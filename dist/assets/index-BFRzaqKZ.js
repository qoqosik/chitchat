(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();function U_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Rf={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function nT(){if(oy)return Ul;oy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Ul.Fragment=e,Ul.jsx=i,Ul.jsxs=i,Ul}var cy;function iT(){return cy||(cy=1,Rf.exports=nT()),Rf.exports}var dt=iT(),wf={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function aT(){if(hy)return gt;hy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function K(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function yt(N,Q,W){this.props=N,this.context=Q,this.refs=tt,this.updater=W||J}yt.prototype.isReactComponent={},yt.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},yt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Tt(){}Tt.prototype=yt.prototype;function _t(N,Q,W){this.props=N,this.context=Q,this.refs=tt,this.updater=W||J}var Xt=_t.prototype=new Tt;Xt.constructor=_t,et(Xt,yt.prototype),Xt.isPureReactComponent=!0;var ee=Array.isArray;function Lt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(N,Q,W){var at=W.ref;return{$$typeof:s,type:N,key:Q,ref:at!==void 0?at:null,props:W}}function O(N,Q){return C(N.type,Q,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function z(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(W){return Q[W]})}var b=/\/+/g;function ne(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):Q.toString(36)}function we(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Lt,Lt):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function k(N,Q,W,at,ft){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Nt=!1;if(N===null)Nt=!0;else switch(At){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(N.$$typeof){case s:case e:Nt=!0;break;case A:return Nt=N._init,k(Nt(N._payload),Q,W,at,ft)}}if(Nt)return ft=ft(N),Nt=at===""?"."+ne(N,0):at,ee(ft)?(W="",Nt!=null&&(W=Nt.replace(b,"$&/")+"/"),k(ft,Q,W,"",function(Ma){return Ma})):ft!=null&&(I(ft)&&(ft=O(ft,W+(ft.key==null||N&&N.key===ft.key?"":(""+ft.key).replace(b,"$&/")+"/")+Nt)),Q.push(ft)),1;Nt=0;var Ce=at===""?".":at+":";if(ee(N))for(var ie=0;ie<N.length;ie++)at=N[ie],At=Ce+ne(at,ie),Nt+=k(at,Q,W,At,ft);else if(ie=K(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(at=N.next()).done;)at=at.value,At=Ce+ne(at,ie++),Nt+=k(at,Q,W,At,ft);else if(At==="object"){if(typeof N.then=="function")return k(we(N),Q,W,at,ft);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function $(N,Q,W){if(N==null)return N;var at=[],ft=0;return k(N,at,"","",function(At){return Q.call(W,At,ft++)}),at}function ot(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(W){(N._status===0||N._status===-1)&&(N._status=1,N._result=W)},function(W){(N._status===0||N._status===-1)&&(N._status=2,N._result=W)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var xt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Pt={map:$,forEach:function(N,Q,W){$(N,function(){Q.apply(this,arguments)},W)},count:function(N){var Q=0;return $(N,function(){Q++}),Q},toArray:function(N){return $(N,function(Q){return Q})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return gt.Activity=w,gt.Children=Pt,gt.Component=yt,gt.Fragment=i,gt.Profiler=u,gt.PureComponent=_t,gt.StrictMode=r,gt.Suspense=v,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,gt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},gt.cache=function(N){return function(){return N.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(N,Q,W){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=et({},N.props),ft=N.key;if(Q!=null)for(At in Q.key!==void 0&&(ft=""+Q.key),Q)!S.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(at[At]=Q[At]);var At=arguments.length-2;if(At===1)at.children=W;else if(1<At){for(var Nt=Array(At),Ce=0;Ce<At;Ce++)Nt[Ce]=arguments[Ce+2];at.children=Nt}return C(N.type,ft,at)},gt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:h,_context:N},N},gt.createElement=function(N,Q,W){var at,ft={},At=null;if(Q!=null)for(at in Q.key!==void 0&&(At=""+Q.key),Q)S.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(ft[at]=Q[at]);var Nt=arguments.length-2;if(Nt===1)ft.children=W;else if(1<Nt){for(var Ce=Array(Nt),ie=0;ie<Nt;ie++)Ce[ie]=arguments[ie+2];ft.children=Ce}if(N&&N.defaultProps)for(at in Nt=N.defaultProps,Nt)ft[at]===void 0&&(ft[at]=Nt[at]);return C(N,At,ft)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(N){return{$$typeof:y,render:N}},gt.isValidElement=I,gt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ot}},gt.memo=function(N,Q){return{$$typeof:_,type:N,compare:Q===void 0?null:Q}},gt.startTransition=function(N){var Q=D.T,W={};D.T=W;try{var at=N(),ft=D.S;ft!==null&&ft(W,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Lt,xt)}catch(At){xt(At)}finally{Q!==null&&W.types!==null&&(Q.types=W.types),D.T=Q}},gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},gt.use=function(N){return D.H.use(N)},gt.useActionState=function(N,Q,W){return D.H.useActionState(N,Q,W)},gt.useCallback=function(N,Q){return D.H.useCallback(N,Q)},gt.useContext=function(N){return D.H.useContext(N)},gt.useDebugValue=function(){},gt.useDeferredValue=function(N,Q){return D.H.useDeferredValue(N,Q)},gt.useEffect=function(N,Q){return D.H.useEffect(N,Q)},gt.useEffectEvent=function(N){return D.H.useEffectEvent(N)},gt.useId=function(){return D.H.useId()},gt.useImperativeHandle=function(N,Q,W){return D.H.useImperativeHandle(N,Q,W)},gt.useInsertionEffect=function(N,Q){return D.H.useInsertionEffect(N,Q)},gt.useLayoutEffect=function(N,Q){return D.H.useLayoutEffect(N,Q)},gt.useMemo=function(N,Q){return D.H.useMemo(N,Q)},gt.useOptimistic=function(N,Q){return D.H.useOptimistic(N,Q)},gt.useReducer=function(N,Q,W){return D.H.useReducer(N,Q,W)},gt.useRef=function(N){return D.H.useRef(N)},gt.useState=function(N){return D.H.useState(N)},gt.useSyncExternalStore=function(N,Q,W){return D.H.useSyncExternalStore(N,Q,W)},gt.useTransition=function(){return D.H.useTransition()},gt.version="19.2.4",gt}var fy;function ud(){return fy||(fy=1,wf.exports=aT()),wf.exports}var gi=ud();const rT=U_(gi);var Cf={exports:{}},Ll={},Df={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function sT(){return dy||(dy=1,(function(s){function e(k,$){var ot=k.length;k.push($);t:for(;0<ot;){var xt=ot-1>>>1,Pt=k[xt];if(0<u(Pt,$))k[xt]=$,k[ot]=Pt,ot=xt;else break t}}function i(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],ot=k.pop();if(ot!==$){k[0]=ot;t:for(var xt=0,Pt=k.length,N=Pt>>>1;xt<N;){var Q=2*(xt+1)-1,W=k[Q],at=Q+1,ft=k[at];if(0>u(W,ot))at<Pt&&0>u(ft,W)?(k[xt]=ft,k[at]=ot,xt=at):(k[xt]=W,k[Q]=ot,xt=Q);else if(at<Pt&&0>u(ft,ot))k[xt]=ft,k[at]=ot,xt=at;else break t}}return $}function u(k,$){var ot=k.sortIndex-$.sortIndex;return ot!==0?ot:k.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,w=null,M=3,K=!1,J=!1,et=!1,tt=!1,yt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Xt(k){for(var $=i(_);$!==null;){if($.callback===null)r(_);else if($.startTime<=k)r(_),$.sortIndex=$.expirationTime,e(v,$);else break;$=i(_)}}function ee(k){if(et=!1,Xt(k),!J)if(i(v)!==null)J=!0,Lt||(Lt=!0,z());else{var $=i(_);$!==null&&we(ee,$.startTime-k)}}var Lt=!1,D=-1,S=5,C=-1;function O(){return tt?!0:!(s.unstable_now()-C<S)}function I(){if(tt=!1,Lt){var k=s.unstable_now();C=k;var $=!0;try{t:{J=!1,et&&(et=!1,Tt(D),D=-1),K=!0;var ot=M;try{e:{for(Xt(k),w=i(v);w!==null&&!(w.expirationTime>k&&O());){var xt=w.callback;if(typeof xt=="function"){w.callback=null,M=w.priorityLevel;var Pt=xt(w.expirationTime<=k);if(k=s.unstable_now(),typeof Pt=="function"){w.callback=Pt,Xt(k),$=!0;break e}w===i(v)&&r(v),Xt(k)}else r(v);w=i(v)}if(w!==null)$=!0;else{var N=i(_);N!==null&&we(ee,N.startTime-k),$=!1}}break t}finally{w=null,M=ot,K=!1}$=void 0}}finally{$?z():Lt=!1}}}var z;if(typeof _t=="function")z=function(){_t(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,ne=b.port2;b.port1.onmessage=I,z=function(){ne.postMessage(null)}}else z=function(){yt(I,0)};function we(k,$){D=yt(function(){k(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(k){switch(M){case 1:case 2:case 3:var $=3;break;default:$=M}var ot=M;M=$;try{return k()}finally{M=ot}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ot=M;M=k;try{return $()}finally{M=ot}},s.unstable_scheduleCallback=function(k,$,ot){var xt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?xt+ot:xt):ot=xt,k){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ot+Pt,k={id:A++,callback:$,priorityLevel:k,startTime:ot,expirationTime:Pt,sortIndex:-1},ot>xt?(k.sortIndex=ot,e(_,k),i(v)===null&&k===i(_)&&(et?(Tt(D),D=-1):et=!0,we(ee,ot-xt))):(k.sortIndex=Pt,e(v,k),J||K||(J=!0,Lt||(Lt=!0,z()))),k},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(k){var $=M;return function(){var ot=M;M=$;try{return k.apply(this,arguments)}finally{M=ot}}}})(Vf)),Vf}var my;function lT(){return my||(my=1,Df.exports=sT()),Df.exports}var If={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function uT(){if(gy)return Fe;gy=1;var s=ud();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Fe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:K}):A==="script"&&r.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Fe.requestFormReset=function(v){r.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.4",Fe}var py;function oT(){if(py)return If.exports;py=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),If.exports=uT(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function cT(){if(yy)return Ll;yy=1;var s=lT(),e=ud(),i=oT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Xt=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case yt:return"Profiler";case tt:return"StrictMode";case ee:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case _t:return t.displayName||"Context";case Tt:return(t._context.displayName||"Context")+".Consumer";case Xt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var we=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},xt=[],Pt=-1;function N(t){return{current:t}}function Q(t){0>Pt||(t.current=xt[Pt],xt[Pt]=null,Pt--)}function W(t,n){Pt++,xt[Pt]=t.current,t.current=n}var at=N(null),ft=N(null),At=N(null),Nt=N(null);function Ce(t,n){switch(W(At,n),W(ft,t),W(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Op(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Op(n),t=Mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(at),W(at,t)}function ie(){Q(at),Q(ft),Q(At)}function Ma(t){t.memoizedState!==null&&W(Nt,t);var n=at.current,a=Mp(n,t.type);n!==a&&(W(ft,t),W(at,a))}function Ar(t){ft.current===t&&(Q(at),Q(ft)),Nt.current===t&&(Q(Nt),Ol._currentValue=ot)}var Sr,br;function Qn(t){if(Sr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Sr=n&&n[1]||"",br=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+t+br}var Os=!1;function xa(t,n){if(!t||Os)return"";Os=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var q=P}Reflect.construct(t,[],F)}else{try{F.call()}catch(P){q=P}t.call(F.prototype)}}else{try{throw Error()}catch(P){q=P}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&q&&typeof P.stack=="string")return[P.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Os=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qn(a):""}function Ms(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return xa(t.type,!1);case 11:return xa(t.type.render,!1);case 1:return xa(t.type,!0);case 31:return Qn("Activity");default:return""}}function xs(t){try{var n="",a=null;do n+=Ms(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,De=s.unstable_scheduleCallback,ki=s.unstable_cancelCallback,wc=s.unstable_shouldYield,ou=s.unstable_requestPaint,Xe=s.unstable_now,za=s.unstable_getCurrentPriorityLevel,zs=s.unstable_ImmediatePriority,Us=s.unstable_UserBlockingPriority,Gi=s.unstable_NormalPriority,Cc=s.unstable_LowPriority,cu=s.unstable_IdlePriority,hu=s.log,fu=s.unstable_setDisableYieldValue,Nn=null,Ue=null;function pn(t){if(typeof hu=="function"&&fu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Nn,t)}catch{}}var oe=Math.clz32?Math.clz32:mu,du=Math.log,Rr=Math.LN2;function mu(t){return t>>>=0,t===0?32:31-(du(t)/Rr|0)|0}var Yn=256,Ua=262144,ge=4194304;function Kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Kn(l):(g&=E,g!==0?c=Kn(g):a||(a=E&~t,a!==0&&(c=Kn(a))))):(E=l&~f,E!==0?c=Kn(E):g!==0?c=Kn(g):a||(a=l&~t,a!==0&&(c=Kn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function On(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Dc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function La(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-oe(a),F=1<<H;E[H]=0,R[H]=-1;var q=B[H];if(q!==null)for(B[H]=null,H=0;H<q.length;H++){var P=q[H];P!==null&&(P.lane&=-536870913)}a&=~F}l!==0&&Ba(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ba(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ls(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Bs(t,n){var a=n&-n;return a=(a&42)!==0?1:qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pu(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:ny(t.type))}function Mn(t,n){var a=$.p;try{return $.p=t,n()}finally{$.p=a}}var xn=Math.random().toString(36).slice(2),pe="__reactFiber$"+xn,Oe="__reactProps$"+xn,Jn="__reactContainer$"+xn,wr="__reactEvents$"+xn,Ic="__reactListeners$"+xn,yu="__reactHandles$"+xn,_u="__reactResources$"+xn,$n="__reactMarker$"+xn;function Cr(t){delete t[pe],delete t[Oe],delete t[wr],delete t[Ic],delete t[yu]}function Wn(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=jp(t);t!==null;){if(a=t[pe])return a;t=jp(t)}return n}t=a,a=t.parentNode}return null}function yn(t){if(t=t[pe]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ti(t){var n=t[_u];return n||(n=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[$n]=!0}var qs=new Set,js={};function ei(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(js[t]=n,t=0;t<n.length;t++)qs.add(n[t])}var Ps=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hs={},ks={};function vu(t){return me.call(ks,t)?!0:me.call(Hs,t)?!1:Ps.test(t)?ks[t]=!0:(Hs[t]=!0,!1)}function Dr(t,n,a){if(vu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function un(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Fi(t)?"checked":"value";t._valueTracker=Gs(t,n,""+t[n])}}function ja(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pa=/[\n"\\]/g;function $e(t){return t.replace(Pa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vr(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Fs(t,g,Me(n)):a!=null?Fs(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Eu(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function Fs(t,n,a){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Tu(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Yi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ht(t)}function We(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Au.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ys(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Qs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Qs(t,f,n[f])}function Ir(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(t){return Ki.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var Ks=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,ai=null;function Ha(t){var n=yn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(r(90));Vr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ja(l)}break t;case"textarea":Tu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Qi(t,!!a.multiple,n,!1)}}}var Or=!1;function Zi(t,n,a){if(Or)return t(n,a);Or=!0;try{var l=t(n);return l}finally{if(Or=!1,(Xi!==null||ai!==null)&&(yo(),Xi&&(n=Xi,t=ai,ai=Xi=null,Ha(n),t)))for(n=0;n<t.length;n++)Ha(t[n])}}function Un(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(vn)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{ka=!1}var ri=null,Xs=null,Ga=null;function Zs(){if(Ga)return Ga;var t,n=Xs,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Ga=c.slice(t,1<l?1-l:void 0)}function Fa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function Ln(){return!1}function Le(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ti:Ln,this.isPropagationStopped=Ln,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Le(Ai),Ji=w({},Ai,{view:0,detail:0}),Js=Le(Ji),$i,Mr,li,xr=w({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?($i=t.screenX-li.screenX,Mr=t.screenY-li.screenY):Mr=$i=0,li=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Mr}}),$s=Le(xr),Qa=w({},xr,{dataTransfer:0}),bu=Le(Qa),Ru=w({},Ji,{relatedTarget:0}),Ya=Le(Ru),Ws=w({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=Le(Ws),zr=w({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cu=Le(zr),Du=w({},Ai,{data:0}),ui=Le(Du),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Wi(){return Ou}var Ze=w({},Ji,{key:function(t){if(t.key){var n=Vu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mu=Le(Ze),xu=w({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=Le(xu),o=w({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=Le(o),p=w({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=w({},xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Le(U),Z=w({},Ai,{newState:0,oldState:0}),vt=Le(Z),ce=[9,13,27,32],Bt=vn&&"CompositionEvent"in window,ae=null;vn&&"documentMode"in document&&(ae=document.documentMode);var En=vn&&"TextEvent"in window&&!ae,oi=vn&&(!Bt||ae&&8<ae&&11>=ae),Bn=" ",qn=!1;function Ka(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function wE(t,n){switch(t){case"compositionend":return Ur(n);case"keypress":return n.which!==32?null:(qn=!0,Bn);case"textInput":return t=n.data,t===Bn&&qn?null:t;default:return null}}function CE(t,n){if(Lr)return t==="compositionend"||!Bt&&Ka(t,n)?(t=Zs(),Ga=Xs=ri=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!DE[t.type]:n==="textarea"}function Gd(t,n,a,l){Xi?ai?ai.push(l):ai=[l]:Xi=l,n=bo(n,"onChange"),0<n.length&&(a=new si("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var tl=null,el=null;function VE(t){wp(t,0)}function zu(t){var n=ln(t);if(ja(n))return t}function Fd(t,n){if(t==="change")return n}var Qd=!1;if(vn){var Nc;if(vn){var Oc="oninput"in document;if(!Oc){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Oc=typeof Yd.oninput=="function"}Nc=Oc}else Nc=!1;Qd=Nc&&(!document.documentMode||9<document.documentMode)}function Kd(){tl&&(tl.detachEvent("onpropertychange",Xd),el=tl=null)}function Xd(t){if(t.propertyName==="value"&&zu(el)){var n=[];Gd(n,el,t,_n(t)),Zi(VE,n)}}function IE(t,n,a){t==="focusin"?(Kd(),tl=n,el=a,tl.attachEvent("onpropertychange",Xd)):t==="focusout"&&Kd()}function NE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(el)}function OE(t,n){if(t==="click")return zu(n)}function ME(t,n){if(t==="input"||t==="change")return zu(n)}function xE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:xE;function nl(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!on(t[c],n[c]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jd(t,n){var a=Zd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zd(a)}}function $d(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$d(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ii(t.document)}return n}function Mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var zE=vn&&"documentMode"in document&&11>=document.documentMode,Br=null,xc=null,il=null,zc=!1;function tm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||Br==null||Br!==ii(l)||(l=Br,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=bo(xc,"onSelect"),0<l.length&&(n=new si("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Br)))}function Xa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var qr={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionrun:Xa("Transition","TransitionRun"),transitionstart:Xa("Transition","TransitionStart"),transitioncancel:Xa("Transition","TransitionCancel"),transitionend:Xa("Transition","TransitionEnd")},Uc={},em={};vn&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Za(t){if(Uc[t])return Uc[t];if(!qr[t])return t;var n=qr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in em)return Uc[t]=n[a];return t}var nm=Za("animationend"),im=Za("animationiteration"),am=Za("animationstart"),UE=Za("transitionrun"),LE=Za("transitionstart"),BE=Za("transitioncancel"),rm=Za("transitionend"),sm=new Map,Lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lc.push("scrollEnd");function jn(t,n){sm.set(t,n),ei(n,[t])}var Uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tn=[],jr=0,Bc=0;function Lu(){for(var t=jr,n=Bc=jr=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&lm(a,c,f)}}function Bu(t,n,a,l){Tn[jr++]=t,Tn[jr++]=n,Tn[jr++]=a,Tn[jr++]=l,Bc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,a,l){return Bu(t,n,a,l),qu(t)}function Ja(t,n){return Bu(t,null,null,n),qu(t)}function lm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-oe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function qu(t){if(50<Rl)throw Rl=0,Kh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pr={};function qE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,a,l){return new qE(t,n,a,l)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var a=t.alternate;return a===null?(a=cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function um(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ju(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")jc(t)&&(g=1);else if(typeof t=="string")g=G0(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=cn(31,a,n,c),t.elementType=C,t.lanes=f,t;case et:return $a(a.children,c,f,n);case tt:g=8,c|=24;break;case yt:return t=cn(12,a,n,c|2),t.elementType=yt,t.lanes=f,t;case ee:return t=cn(13,a,n,c),t.elementType=ee,t.lanes=f,t;case Lt:return t=cn(19,a,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _t:g=10;break t;case Tt:g=9;break t;case Xt:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=cn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function $a(t,n,a,l){return t=cn(7,t,l,n),t.lanes=a,t}function Pc(t,n,a){return t=cn(6,t,null,n),t.lanes=a,t}function om(t){var n=cn(18,null,null,0);return n.stateNode=t,n}function Hc(t,n,a){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var cm=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=cm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:xs(n)},cm.set(t,n),n)}return{value:t,source:n,stack:xs(n)}}var Hr=[],kr=0,Pu=null,al=0,Sn=[],bn=0,ta=null,ci=1,hi="";function Ri(t,n){Hr[kr++]=al,Hr[kr++]=Pu,Pu=t,al=n}function hm(t,n,a){Sn[bn++]=ci,Sn[bn++]=hi,Sn[bn++]=ta,ta=t;var l=ci;t=hi;var c=32-oe(l)-1;l&=~(1<<c),a+=1;var f=32-oe(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-oe(n)+c|a<<c|l,hi=f+t}else ci=1<<f|a<<c|l,hi=t}function kc(t){t.return!==null&&(Ri(t,1),hm(t,1,0))}function Gc(t){for(;t===Pu;)Pu=Hr[--kr],Hr[kr]=null,al=Hr[--kr],Hr[kr]=null;for(;t===ta;)ta=Sn[--bn],Sn[bn]=null,hi=Sn[--bn],Sn[bn]=null,ci=Sn[--bn],Sn[bn]=null}function fm(t,n){Sn[bn++]=ci,Sn[bn++]=hi,Sn[bn++]=ta,ci=n.id,hi=n.overflow,ta=t}var Be=null,$t=null,It=!1,ea=null,Rn=!1,Fc=Error(r(519));function na(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(An(n,t)),Fc}function dm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Oe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Rt(Cl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Yi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ip(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||na(t,!0)}function mm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Be=Be.return}}function Gr(t){if(t!==Be)return!1;if(!It)return mm(t),It=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cf(t.type,t.memoizedProps)),a=!a),a&&$t&&na(t),mm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));$t=qp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));$t=qp(t)}else n===27?(n=$t,pa(t.type)?(t=gf,gf=null,$t=t):$t=n):$t=Be?Cn(t.stateNode.nextSibling):null;return!0}function Wa(){$t=Be=null,It=!1}function Qc(){var t=ea;return t!==null&&(an===null?an=t:an.push.apply(an,t),ea=null),t}function rl(t){ea===null?ea=[t]:ea.push(t)}var Yc=N(null),tr=null,wi=null;function ia(t,n,a){W(Yc,n._currentValue),n._currentValue=a}function Ci(t){t._currentValue=Yc.current,Q(Yc)}function Kc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Xc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Kc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Fr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;on(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Nt.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Xc(n,t,a,l),n.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){tr=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return gm(tr,t)}function ku(t,n){return tr===null&&er(t),gm(t,n)}function gm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(r(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var jE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},PE=s.unstable_scheduleCallback,HE=s.unstable_NormalPriority,ve={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new jE,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&PE(HE,function(){t.controller.abort()})}var ll=null,Jc=0,Qr=0,Yr=null;function kE(t,n){if(ll===null){var a=ll=[];Jc=0,Qr=tf(),Yr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jc++,n.then(pm,pm),n}function pm(){if(--Jc===0&&ll!==null){Yr!==null&&(Yr.status="fulfilled");var t=ll;ll=null,Qr=0,Yr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function GE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var ym=k.S;k.S=function(t,n){tp=Xe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kE(t,n),ym!==null&&ym(t,n)};var nr=N(null);function $c(){var t=nr.current;return t!==null?t:Zt.pooledCache}function Gu(t,n){n===null?W(nr,nr.current):W(nr,n.pool)}function _m(){var t=$c();return t===null?null:{parent:ve._currentValue,pool:t}}var Kr=Error(r(460)),Wc=Error(r(474)),Fu=Error(r(542)),Qu={then:function(){}};function vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Em(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zn,zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t}throw ar=n,Kr}}function ir(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ar=a,Kr):a}}var ar=null;function Tm(){if(ar===null)throw Error(r(459));var t=ar;return ar=null,t}function Am(t){if(t===Kr||t===Fu)throw Error(r(483))}var Xr=null,ul=0;function Yu(t){var n=ul;return ul+=1,Xr===null&&(Xr=[]),Em(Xr,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===M?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Sm(t){function n(x,V){if(t){var L=x.deletions;L===null?(x.deletions=[V],x.flags|=16):L.push(V)}}function a(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=bi(x,V),x.index=0,x.sibling=null,x}function f(x,V,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<V?(x.flags|=67108866,V):L):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,L,G){return V===null||V.tag!==6?(V=Pc(L,x.mode,G),V.return=x,V):(V=c(V,L),V.return=x,V)}function R(x,V,L,G){var lt=L.type;return lt===et?H(x,V,L.props.children,G,L.key):V!==null&&(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&ir(lt)===V.type)?(V=c(V,L.props),ol(V,L),V.return=x,V):(V=ju(L.type,L.key,L.props,null,x.mode,G),ol(V,L),V.return=x,V)}function B(x,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Hc(L,x.mode,G),V.return=x,V):(V=c(V,L.children||[]),V.return=x,V)}function H(x,V,L,G,lt){return V===null||V.tag!==7?(V=$a(L,x.mode,G,lt),V.return=x,V):(V=c(V,L),V.return=x,V)}function F(x,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Pc(""+V,x.mode,L),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case K:return L=ju(V.type,V.key,V.props,null,x.mode,L),ol(L,V),L.return=x,L;case J:return V=Hc(V,x.mode,L),V.return=x,V;case S:return V=ir(V),F(x,V,L)}if(we(V)||z(V))return V=$a(V,x.mode,L,null),V.return=x,V;if(typeof V.then=="function")return F(x,Yu(V),L);if(V.$$typeof===_t)return F(x,ku(x,V),L);Ku(x,V)}return null}function q(x,V,L,G){var lt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return L.key===lt?R(x,V,L,G):null;case J:return L.key===lt?B(x,V,L,G):null;case S:return L=ir(L),q(x,V,L,G)}if(we(L)||z(L))return lt!==null?null:H(x,V,L,G,null);if(typeof L.then=="function")return q(x,V,Yu(L),G);if(L.$$typeof===_t)return q(x,V,ku(x,L),G);Ku(x,L)}return null}function P(x,V,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(V,x,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return x=x.get(G.key===null?L:G.key)||null,R(V,x,G,lt);case J:return x=x.get(G.key===null?L:G.key)||null,B(V,x,G,lt);case S:return G=ir(G),P(x,V,L,G,lt)}if(we(G)||z(G))return x=x.get(L)||null,H(V,x,G,lt,null);if(typeof G.then=="function")return P(x,V,L,Yu(G),lt);if(G.$$typeof===_t)return P(x,V,L,ku(V,G),lt);Ku(V,G)}return null}function rt(x,V,L,G){for(var lt=null,zt=null,st=V,St=V=0,Ct=null;st!==null&&St<L.length;St++){st.index>St?(Ct=st,st=null):Ct=st.sibling;var Ut=q(x,st,L[St],G);if(Ut===null){st===null&&(st=Ct);break}t&&st&&Ut.alternate===null&&n(x,st),V=f(Ut,V,St),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut,st=Ct}if(St===L.length)return a(x,st),It&&Ri(x,St),lt;if(st===null){for(;St<L.length;St++)st=F(x,L[St],G),st!==null&&(V=f(st,V,St),zt===null?lt=st:zt.sibling=st,zt=st);return It&&Ri(x,St),lt}for(st=l(st);St<L.length;St++)Ct=P(st,x,St,L[St],G),Ct!==null&&(t&&Ct.alternate!==null&&st.delete(Ct.key===null?St:Ct.key),V=f(Ct,V,St),zt===null?lt=Ct:zt.sibling=Ct,zt=Ct);return t&&st.forEach(function(Ta){return n(x,Ta)}),It&&Ri(x,St),lt}function ct(x,V,L,G){if(L==null)throw Error(r(151));for(var lt=null,zt=null,st=V,St=V=0,Ct=null,Ut=L.next();st!==null&&!Ut.done;St++,Ut=L.next()){st.index>St?(Ct=st,st=null):Ct=st.sibling;var Ta=q(x,st,Ut.value,G);if(Ta===null){st===null&&(st=Ct);break}t&&st&&Ta.alternate===null&&n(x,st),V=f(Ta,V,St),zt===null?lt=Ta:zt.sibling=Ta,zt=Ta,st=Ct}if(Ut.done)return a(x,st),It&&Ri(x,St),lt;if(st===null){for(;!Ut.done;St++,Ut=L.next())Ut=F(x,Ut.value,G),Ut!==null&&(V=f(Ut,V,St),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut);return It&&Ri(x,St),lt}for(st=l(st);!Ut.done;St++,Ut=L.next())Ut=P(st,x,St,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&st.delete(Ut.key===null?St:Ut.key),V=f(Ut,V,St),zt===null?lt=Ut:zt.sibling=Ut,zt=Ut);return t&&st.forEach(function(eT){return n(x,eT)}),It&&Ri(x,St),lt}function Kt(x,V,L,G){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case K:t:{for(var lt=L.key;V!==null;){if(V.key===lt){if(lt=L.type,lt===et){if(V.tag===7){a(x,V.sibling),G=c(V,L.props.children),G.return=x,x=G;break t}}else if(V.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&ir(lt)===V.type){a(x,V.sibling),G=c(V,L.props),ol(G,L),G.return=x,x=G;break t}a(x,V);break}else n(x,V);V=V.sibling}L.type===et?(G=$a(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=ju(L.type,L.key,L.props,null,x.mode,G),ol(G,L),G.return=x,x=G)}return g(x);case J:t:{for(lt=L.key;V!==null;){if(V.key===lt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(x,V.sibling),G=c(V,L.children||[]),G.return=x,x=G;break t}else{a(x,V);break}else n(x,V);V=V.sibling}G=Hc(L,x.mode,G),G.return=x,x=G}return g(x);case S:return L=ir(L),Kt(x,V,L,G)}if(we(L))return rt(x,V,L,G);if(z(L)){if(lt=z(L),typeof lt!="function")throw Error(r(150));return L=lt.call(L),ct(x,V,L,G)}if(typeof L.then=="function")return Kt(x,V,Yu(L),G);if(L.$$typeof===_t)return Kt(x,V,ku(x,L),G);Ku(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(x,V.sibling),G=c(V,L),G.return=x,x=G):(a(x,V),G=Pc(L,x.mode,G),G.return=x,x=G),g(x)):a(x,V)}return function(x,V,L,G){try{ul=0;var lt=Kt(x,V,L,G);return Xr=null,lt}catch(st){if(st===Kr||st===Fu)throw st;var zt=cn(29,st,null,x.mode);return zt.lanes=G,zt.return=x,zt}finally{}}}var rr=Sm(!0),bm=Sm(!1),aa=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sa(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qu(t),lm(t,null,a),n}return Bu(t,l,n,a),qu(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}function nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ih=!1;function hl(){if(ih){var t=Yr;if(t!==null)throw t}}function fl(t,n,a,l){ih=!1;var c=t.updateQueue;aa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,g===null?f=B:g.next=B,g=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;g=0,H=B=R=null,E=f;do{var q=E.lane&-536870913,P=q!==E.lane;if(P?(wt&q)===q:(l&q)===q){q!==0&&q===Qr&&(ih=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,ct=E;q=n;var Kt=a;switch(ct.tag){case 1:if(rt=ct.payload,typeof rt=="function"){F=rt.call(Kt,F,q);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ct.payload,q=typeof rt=="function"?rt.call(Kt,F,q):rt,q==null)break t;F=w({},F,q);break t;case 2:aa=!0}}q=E.callback,q!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[q]:P.push(q))}else P={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=P,R=F):H=H.next=P,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(R=F),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),ha|=g,t.lanes=g,t.memoizedState=F}}function Rm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function wm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Rm(a[t],n)}var Zr=N(null),Xu=N(0);function Cm(t,n){t=Ui,W(Xu,t),W(Zr,n),Ui=t|n.baseLanes}function ah(){W(Xu,Ui),W(Zr,Zr.current)}function rh(){Ui=Xu.current,Q(Zr),Q(Xu)}var hn=N(null),wn=null;function la(t){var n=t.alternate;W(he,he.current&1),W(hn,t),wn===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(wn=t)}function sh(t){W(he,he.current),W(hn,t),wn===null&&(wn=t)}function Dm(t){t.tag===22?(W(he,he.current),W(hn,t),wn===null&&(wn=t)):ua()}function ua(){W(he,he.current),W(hn,hn.current)}function fn(t){Q(hn),wn===t&&(wn=null),Q(he)}var he=N(0);function Zu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||df(a)||mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Di=0,Et=null,Qt=null,Ee=null,Ju=!1,Jr=!1,sr=!1,$u=0,dl=0,$r=null,FE=0;function le(){throw Error(r(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!on(t[a],n[a]))return!1;return!0}function uh(t,n,a,l,c,f){return Di=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?hg:Sh,sr=!1,f=a(l,c),sr=!1,Jr&&(f=Im(n,a,l,c)),Vm(t),f}function Vm(t){k.H=pl;var n=Qt!==null&&Qt.next!==null;if(Di=0,Ee=Qt=Et=null,Ju=!1,dl=0,$r=null,n)throw Error(r(300));t===null||Te||(t=t.dependencies,t!==null&&Hu(t)&&(Te=!0))}function Im(t,n,a,l){Et=t;var c=0;do{if(Jr&&($r=null),dl=0,Jr=!1,25<=c)throw Error(r(301));if(c+=1,Ee=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}k.H=fg,f=n(a,l)}while(Jr);return f}function QE(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?ml(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Et.flags|=1024),n}function oh(){var t=$u!==0;return $u=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if(Ju){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ju=!1}Di=0,Ee=Qt=Et=null,Jr=!1,dl=$u=0,$r=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Et.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Qt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=Ee===null?Et.memoizedState:Ee.next;if(n!==null)Ee=n,Qt=t;else{if(t===null)throw Et.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Ee===null?Et.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Wu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var n=dl;return dl+=1,$r===null&&($r=[]),t=Em($r,t,n),n=Et,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?hg:Sh),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===_t)return qe(t)}throw Error(r(438,String(t)))}function fh(t){var n=null,a=Et.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Wu(),Et.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function eo(t){var n=fe();return dh(n,Qt,t)}function dh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,R=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(wt&F)===F:(Di&F)===F){var q=B.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Qr&&(H=!0);else if((Di&q)===q){B=B.next,q===Qr&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=F,g=f):R=R.next=F,Et.lanes|=q,ha|=q;F=B.action,sr&&a(f,F),f=B.hasEagerState?B.eagerState:a(f,F)}else q={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=q,g=f):R=R.next=q,Et.lanes|=F,ha|=F;B=B.next}while(B!==null&&B!==n);if(R===null?g=f:R.next=E,!on(f,t.memoizedState)&&(Te=!0,H&&(a=Yr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);on(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Nm(t,n,a){var l=Et,c=fe(),f=It;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!on((Qt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,yh(xm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Wr(9,{destroy:void 0},Mm.bind(null,l,c,a,n),null),Zt===null)throw Error(r(349));f||(Di&127)!==0||Om(l,n,a)}return a}function Om(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Et.updateQueue,n===null?(n=Wu(),Et.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Mm(t,n,a,l){n.value=a,n.getSnapshot=l,zm(n)&&Um(t)}function xm(t,n,a){return a(function(){zm(n)&&Um(t)})}function zm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!on(t,a)}catch{return!0}}function Um(t){var n=Ja(t,2);n!==null&&rn(n,t,2)}function gh(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),sr){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function Lm(t,n,a,l){return t.baseState=a,dh(t,Qt,typeof l=="function"?l:Vi)}function YE(t,n,a,l,c){if(ao(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};k.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Bm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Bm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=k.T,g={};k.T=g;try{var E=a(c,l),R=k.S;R!==null&&R(g,E),qm(t,n,E)}catch(B){ph(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),k.T=f}}else try{f=a(c,l),qm(t,n,f)}catch(B){ph(t,n,B)}}function qm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jm(t,n,l)},function(l){return ph(t,n,l)}):jm(t,n,a)}function jm(t,n,a){n.status="fulfilled",n.value=a,Pm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Bm(t,a)))}function ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Pm(n),n=n.next;while(n!==l)}t.action=null}function Pm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Hm(t,n){return n}function km(t,n){if(It){var a=Zt.formState;if(a!==null){t:{var l=Et;if(It){if($t){e:{for(var c=$t,f=Rn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Cn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=Cn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:n},a.queue=l,a=ug.bind(null,Et,l),l.dispatch=a,l=gh(!1),f=Ah.bind(null,Et,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=YE.bind(null,Et,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Gm(t){var n=fe();return Fm(n,Qt,t)}function Fm(t,n,a){if(n=dh(t,n,Hm)[0],t=eo(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ml(n)}catch(g){throw g===Kr?Fu:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Et.flags|=2048,Wr(9,{destroy:void 0},KE.bind(null,c,a),null)),[l,f,t]}function KE(t,n){t.action=n}function Qm(t){var n=fe(),a=Qt;if(a!==null)return Fm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Wr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Et.updateQueue,n===null&&(n=Wu(),Et.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ym(){return fe().memoizedState}function no(t,n,a,l){var c=Je();Et.flags|=t,c.memoizedState=Wr(1|n,{destroy:void 0},a,l===void 0?null:l)}function io(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&lh(l,Qt.memoizedState.deps)?c.memoizedState=Wr(n,f,a,l):(Et.flags|=t,c.memoizedState=Wr(1|n,f,a,l))}function Km(t,n){no(8390656,8,t,n)}function yh(t,n){io(2048,8,t,n)}function XE(t){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=Wu(),Et.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Xm(t){var n=fe().memoizedState;return XE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Zm(t,n){return io(4,2,t,n)}function Jm(t,n){return io(4,4,t,n)}function $m(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Wm(t,n,a){a=a!=null?a.concat([t]):null,io(4,4,$m.bind(null,n,t),a)}function _h(){}function tg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function eg(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),sr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,n],l}function vh(t,n,a){return a===void 0||(Di&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=np(),Et.lanes|=t,ha|=t,a)}function ng(t,n,a,l){return on(a,n)?a:Zr.current!==null?(t=vh(t,a,l),on(t,n)||(Te=!0),t):(Di&42)===0||(Di&1073741824)!==0&&(wt&261930)===0?(Te=!0,t.memoizedState=a):(t=np(),Et.lanes|=t,ha|=t,n)}function ig(t,n,a,l,c){var f=$.p;$.p=f!==0&&8>f?f:8;var g=k.T,E={};k.T=E,Ah(t,!1,n,a);try{var R=c(),B=k.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=GE(R,l);gl(t,n,H,gn(t))}else gl(t,n,l,gn(t))}catch(F){gl(t,n,{then:function(){},status:"rejected",reason:F},gn())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),k.T=g}}function ZE(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=ag(t).queue;ig(t,c,n,ot,a===null?ZE:function(){return rg(t),a(l)})}function ag(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function rg(t){var n=ag(t);n.next===null&&(n=t.alternate.memoizedState),gl(t,n.next.queue,{},gn())}function Th(){return qe(Ol)}function sg(){return fe().memoizedState}function lg(){return fe().memoizedState}function JE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();t=ra(a);var l=sa(n,t,a);l!==null&&(rn(l,n,a),cl(l,n,a)),n={cache:Zc()},t.payload=n;return}n=n.return}}function $E(t,n,a){var l=gn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ao(t)?og(n,a):(a=qc(t,n,a,l),a!==null&&(rn(a,t,l),cg(a,n,l)))}function ug(t,n,a){var l=gn();gl(t,n,a,l)}function gl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ao(t))og(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,on(E,g))return Bu(t,n,c,0),Zt===null&&Lu(),!1}catch{}finally{}if(a=qc(t,n,c,l),a!==null)return rn(a,t,l),cg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:tf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ao(t)){if(n)throw Error(r(479))}else n=qc(t,a,l,2),n!==null&&rn(n,t,2)}function ao(t){var n=t.alternate;return t===Et||n!==null&&n===Et}function og(t,n){Jr=Ju=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function cg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ls(t,a)}}var pl={readContext:qe,use:to,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};pl.useEffectEvent=le;var hg={readContext:qe,use:to,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Km,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,no(4194308,4,$m.bind(null,n,t),a)},useLayoutEffect:function(t,n){return no(4194308,4,t,n)},useInsertionEffect:function(t,n){no(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(sr){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(sr){pn(!0);try{a(n)}finally{pn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=$E.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,a=ug.bind(null,Et,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(t,n){var a=Je();return vh(a,t,n)},useTransition:function(){var t=gh(!1);return t=ig.bind(null,Et,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Et,c=Je();if(It){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Zt===null)throw Error(r(349));(wt&127)!==0||Om(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Km(xm.bind(null,l,f,t),[t]),l.flags|=2048,Wr(9,{destroy:void 0},Mm.bind(null,l,f,a,n),null),a},useId:function(){var t=Je(),n=Zt.identifierPrefix;if(It){var a=hi,l=ci;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=FE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:km,useActionState:km,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,Et,!0,a),a.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return Je().memoizedState=JE.bind(null,Et)},useEffectEvent:function(t){var n=Je(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Sh={readContext:qe,use:to,useCallback:tg,useContext:qe,useEffect:yh,useImperativeHandle:Wm,useInsertionEffect:Zm,useLayoutEffect:Jm,useMemo:eg,useReducer:eo,useRef:Ym,useState:function(){return eo(Vi)},useDebugValue:_h,useDeferredValue:function(t,n){var a=fe();return ng(a,Qt.memoizedState,t,n)},useTransition:function(){var t=eo(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Nm,useId:sg,useHostTransitionStatus:Th,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var a=fe();return Lm(a,Qt,t,n)},useMemoCache:fh,useCacheRefresh:lg};Sh.useEffectEvent=Xm;var fg={readContext:qe,use:to,useCallback:tg,useContext:qe,useEffect:yh,useImperativeHandle:Wm,useInsertionEffect:Zm,useLayoutEffect:Jm,useMemo:eg,useReducer:mh,useRef:Ym,useState:function(){return mh(Vi)},useDebugValue:_h,useDeferredValue:function(t,n){var a=fe();return Qt===null?vh(a,t,n):ng(a,Qt.memoizedState,t,n)},useTransition:function(){var t=mh(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:ml(t),n]},useSyncExternalStore:Nm,useId:sg,useHostTransitionStatus:Th,useFormState:Qm,useActionState:Qm,useOptimistic:function(t,n){var a=fe();return Qt!==null?Lm(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fh,useCacheRefresh:lg};fg.useEffectEvent=Xm;function bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=gn(),c=ra(l);c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(rn(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=gn(),c=ra(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(t,c,l),n!==null&&(rn(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=gn(),l=ra(a);l.tag=2,n!=null&&(l.callback=n),n=sa(t,l,a),n!==null&&(rn(n,t,a),cl(n,t,a))}};function dg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!nl(a,l)||!nl(c,f):!0}function mg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function lr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function gg(t){Uu(t)}function pg(t){console.error(t)}function yg(t){Uu(t)}function ro(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function _g(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,a){return a=ra(a),a.tag=3,a.payload={element:null},a.callback=function(){ro(t,n)},a}function vg(t){return t=ra(t),t.tag=3,t}function Eg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){_g(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){_g(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function WE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Fr(n,a,c,!0),a=hn.current,a!==null){switch(a.tag){case 31:case 13:return wn===null?_o():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Qu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Jh(t,l,c)),!1;case 22:return a.flags|=65536,l===Qu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Jh(t,l,c)),!1}throw Error(r(435,a.tag))}return Jh(t,l,c),_o(),!1}if(It)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(r(422),{cause:l}),rl(An(t,a)))):(l!==Fc&&(n=Error(r(423),{cause:l}),rl(An(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,a),c=wh(t.stateNode,l,c),nh(t,c),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:l});if(f=An(f,a),bl===null?bl=[f]:bl.push(f),ue!==4&&(ue=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=wh(a.stateNode,l,t),nh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fa===null||!fa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=vg(c),Eg(c,t,a,l),nh(a,c),!1}a=a.return}while(a!==null);return!1}var Ch=Error(r(461)),Te=!1;function je(t,n,a,l){n.child=t===null?bm(n,null,a,l):rr(n,t.child,a,l)}function Tg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return er(n),l=uh(t,n,a,g,f,c),E=oh(),t!==null&&!Te?(ch(t,n,c),Ii(t,n,c)):(It&&E&&kc(n),n.flags|=1,je(t,n,l,c),n.child)}function Ag(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=ju(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(g,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(nl(f,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return Dh(t,n,a,l,c)}function bg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Rg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(n,f!==null?f.cachePool:null),f!==null?Cm(n,f):ah(),Dm(n);else return l=n.lanes=536870912,Rg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Gu(n,f.cachePool),Cm(n,f),ua(),n.memoizedState=null):(t!==null&&Gu(n,null),ah(),ua());return je(t,n,c,a),n.child}function yl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Rg(t,n,a,l,c){var f=$c();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gu(n,null),ah(),Dm(n),t!==null&&Fr(t,n,l,!0),n.childLanes=c,null}function so(t,n){return n=uo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function wg(t,n,a){return rr(n,t.child,null,a),t=so(n,n.pendingProps),t.flags|=2,fn(n),n.memoizedState=null,t}function t0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(It){if(l.mode==="hidden")return t=so(n,l),n.lanes=536870912,yl(null,t);if(sh(n),(t=$t)?(t=Bp(t,Rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=om(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw na(n);return n.lanes=536870912,null}return so(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(sh(n),c)if(n.flags&256)n.flags&=-257,n=wg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Te||Fr(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Zt,l!==null&&(g=Bs(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ja(t,g),rn(l,t,g),Ch;_o(),n=wg(t,n,a)}else t=f.treeContext,$t=Cn(g.nextSibling),Be=n,It=!0,ea=null,Rn=!1,t!==null&&fm(n,t),n=so(n,l),n.flags|=4096;return n}return t=bi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function lo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Dh(t,n,a,l,c){return er(n),a=uh(t,n,a,l,void 0,c),l=oh(),t!==null&&!Te?(ch(t,n,c),Ii(t,n,c)):(It&&l&&kc(n),n.flags|=1,je(t,n,a,c),n.child)}function Cg(t,n,a,l,c,f){return er(n),n.updateQueue=null,a=Im(n,l,a,c),Vm(t),l=oh(),t!==null&&!Te?(ch(t,n,f),Ii(t,n,f)):(It&&l&&kc(n),n.flags|=1,je(t,n,a,f),n.child)}function Dg(t,n,a,l,c){if(er(n),n.stateNode===null){var f=Pr,g=a.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?qe(g):Pr,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=lr(a,E);f.props=R;var B=f.context,H=a.contextType;g=Pr,typeof H=="object"&&H!==null&&(g=qe(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&mg(n,f,l,g),aa=!1;var q=n.memoizedState;f.state=q,fl(n,l,f,c),hl(),B=n.memoizedState,E||q!==B||aa?(typeof F=="function"&&(bh(n,a,F,l),B=n.memoizedState),(R=aa||dg(n,a,R,l,q,B,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),g=n.memoizedProps,H=lr(a,g),f.props=H,F=n.pendingProps,q=f.context,B=a.contextType,R=Pr,typeof B=="object"&&B!==null&&(R=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||q!==R)&&mg(n,f,l,R),aa=!1,q=n.memoizedState,f.state=q,fl(n,l,f,c),hl();var P=n.memoizedState;g!==F||q!==P||aa||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(bh(n,a,E,l),P=n.memoizedState),(H=aa||dg(n,a,H,l,q,P,R)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=rr(n,t.child,null,c),n.child=rr(n,null,a,c)):je(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ii(t,n,c),t}function Vg(t,n,a,l){return Wa(),n.flags|=256,je(t,n,a,l),n.child}var Vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ih(t){return{baseLanes:t,cachePool:_m()}}function Nh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=mn),t}function Ig(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(c?la(n):ua(),(t=$t)?(t=Bp(t,Rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=om(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw na(n);return mf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ua(),c=n.mode,E=uo({mode:"hidden",children:E},c),l=$a(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Ih(a),l.childLanes=Nh(t,g,a),n.memoizedState=Vh,yl(null,l)):(la(n),Oh(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(la(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),E=l.fallback,c=n.mode,l=uo({mode:"visible",children:l.children},c),E=$a(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,rr(n,t.child,null,a),l=n.child,l.memoizedState=Ih(a),l.childLanes=Nh(t,g,a),n.memoizedState=Vh,n=yl(null,l));else if(la(n),mf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(r(419)),l.stack="",l.digest=g,rl({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if(Te||Fr(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Zt,g!==null&&(l=Bs(g,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ja(t,l),rn(g,t,l),Ch;df(E)||_o(),n=Mh(t,n,a)}else df(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,$t=Cn(E.nextSibling),Be=n,It=!0,ea=null,Rn=!1,t!==null&&fm(n,t),n=Oh(n,l.children),n.flags|=4096);return n}return c?(ua(),E=l.fallback,c=n.mode,R=t.child,B=R.sibling,l=bi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?E=bi(B,E):(E=$a(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,yl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Ih(a):(c=E.cachePool,c!==null?(R=ve._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=_m(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Nh(t,g,a),n.memoizedState=Vh,yl(t.child,l)):(la(n),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Oh(t,n){return n=uo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uo(t,n){return t=cn(22,t,null,n),t.lanes=0,t}function Mh(t,n,a){return rr(n,t.child,null,a),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ng(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,a)}function xh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Og(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(he,g),je(t,n,l,a),l=It?al:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ng(t,a,n);else if(t.tag===19)Ng(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),xh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Zu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xh(n,!0,a,null,f,l);break;case"together":xh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Fr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function e0(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),ia(n,ve,t.memoizedState.cache),Wa();break;case 27:case 5:Ma(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ig(t,n,a):(la(n),t=Ii(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Fr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Og(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(he,he.current),l)break;return null;case 22:return n.lanes=0,bg(t,n,a,n.pendingProps);case 24:ia(n,ve,t.memoizedState.cache)}return Ii(t,n,a)}function Mg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!zh(t,a)&&(n.flags&128)===0)return Te=!1,e0(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,It&&(n.flags&1048576)!==0&&hm(n,al,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ir(n.elementType),n.type=t,typeof t=="function")jc(t)?(l=lr(t,l),n.tag=1,n=Dg(null,n,t,l,a)):(n.tag=0,n=Dh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Xt){n.tag=11,n=Tg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Ag(null,n,t,l,a);break t}}throw n=ne(t)||t,Error(r(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=lr(l,n.pendingProps),Dg(t,n,l,c,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),fl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ia(n,ve,l),l!==f.cache&&Xc(n,[ve],a,!0),hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Vg(t,n,l,a);break t}else if(l!==c){c=An(Error(r(424)),n),rl(c),n=Vg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=Cn(t.firstChild),Be=n,It=!0,ea=null,Rn=!0,a=bm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wa(),l===c){n=Ii(t,n,a);break t}je(t,n,l,a)}n=n.child}return n;case 26:return lo(t,n),t===null?(a=Gp(n.type,null,n.pendingProps,null))?n.memoizedState=a:It||(a=n.type,t=n.pendingProps,l=Ro(At.current).createElement(a),l[pe]=n,l[Oe]=t,Pe(l,a,t),ye(l),n.stateNode=l):n.memoizedState=Gp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ma(n),t===null&&It&&(l=n.stateNode=Pp(n.type,n.pendingProps,At.current),Be=n,Rn=!0,c=$t,pa(n.type)?(gf=c,$t=Cn(l.firstChild)):$t=c),je(t,n,n.pendingProps.children,a),lo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((c=l=$t)&&(l=N0(l,n.type,n.pendingProps,Rn),l!==null?(n.stateNode=l,Be=n,$t=Cn(l.firstChild),Rn=!1,c=!0):c=!1),c||na(n)),Ma(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:g!==null&&cf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,QE,null,null,a),Ol._currentValue=c),lo(t,n),je(t,n,l,a),n.child;case 6:return t===null&&It&&((t=a=$t)&&(a=O0(a,n.pendingProps,Rn),a!==null?(n.stateNode=a,Be=n,$t=null,t=!0):t=!1),t||na(n)),null;case 13:return Ig(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rr(n,null,l,a):je(t,n,l,a),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,a);case 7:return je(t,n,n.pendingProps,a),n.child;case 8:return je(t,n,n.pendingProps.children,a),n.child;case 12:return je(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),je(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,er(n),c=qe(c),l=l(c),n.flags|=1,je(t,n,l,a),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,a);case 15:return Sg(t,n,n.type,n.pendingProps,a);case 19:return Og(t,n,a);case 31:return t0(t,n,a);case 22:return bg(t,n,a,n.pendingProps);case 24:return er(n),l=qe(ve),t===null?(c=$c(),c===null&&(c=Zt,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},th(n),ia(n,ve,c)):((t.lanes&a)!==0&&(eh(t,n),fl(n,null,null,a),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,ve,l)):(l=f.cache,ia(n,ve,l),l!==c.cache&&Xc(n,[ve],a,!0))),je(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ni(t){t.flags|=4}function Uh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(sp())t.flags|=8192;else throw ar=Qu,Wc}else t.flags&=-16777217}function xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xp(n))if(sp())t.flags|=8192;else throw ar=Qu,Wc}function oo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?gu():536870912,t.lanes|=n,is|=n)}function _l(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function n0(t,n,a){var l=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(ve),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Gr(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qc())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Ni(n),f!==null?(Wt(n),xg(n,f)):(Wt(n),Uh(n,c,null,l,a))):f?f!==t.memoizedState?(Ni(n),Wt(n),xg(n,f)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ni(n),Wt(n),Uh(n,c,t,l,a)),null;case 27:if(Ar(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}t=at.current,Gr(n)?dm(n):(t=Pp(c,l,a),n.stateNode=t,Ni(n))}return Wt(n),null;case 5:if(Ar(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Wt(n),null}if(f=at.current,Gr(n))dm(n);else{var g=Ro(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Pe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ni(n)}}return Wt(n),Uh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=At.current,Gr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ip(t.nodeValue,a)),t||na(n,!0)}else t=Ro(t).createTextNode(l),t[pe]=n,n.stateNode=t}return Wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Gr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[pe]=n}else Wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else a=Qc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[pe]=n}else Wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Qc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),oo(n,n.updateQueue),Wt(n),null);case 4:return ie(),t===null&&rf(n.stateNode.containerInfo),Wt(n),null;case 10:return Ci(n.type),Wt(n),null;case 19:if(Q(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)_l(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Zu(t),f!==null){for(n.flags|=128,_l(l,!1),t=f.updateQueue,n.updateQueue=t,oo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)um(a,t),a=a.sibling;return W(he,he.current&1|2),It&&Ri(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Xe()>go&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304)}else{if(!c)if(t=Zu(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,oo(n,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!It)return Wt(n),null}else 2*Xe()-l.renderingStartTime>go&&a!==536870912&&(n.flags|=128,c=!0,_l(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,a=he.current,W(he,c?a&1|2:a&1),It&&Ri(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return fn(n),rh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&oo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Q(nr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ci(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function i0(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(ve),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ar(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(r(340));Wa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(fn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Wa()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(he),null;case 4:return ie(),null;case 10:return Ci(n.type),null;case 22:case 23:return fn(n),rh(),t!==null&&Q(nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(ve),null;case 25:return null;default:return null}}function zg(t,n){switch(Gc(n),n.tag){case 3:Ci(ve),ie();break;case 26:case 27:case 5:Ar(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:Q(he);break;case 10:Ci(n.type);break;case 22:case 23:fn(n),rh(),t!==null&&Q(nr);break;case 24:Ci(ve)}}function vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Gt(n,n.return,E)}}function oa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var R=a,B=E;try{B()}catch(H){Gt(c,R,H)}}}l=l.next}while(l!==f)}}catch(H){Gt(n,n.return,H)}}function Ug(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{wm(n,a)}catch(l){Gt(t,t.return,l)}}}function Lg(t,n,a){a.props=lr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Gt(t,n,l)}}function El(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Gt(t,n,c)}}function fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Gt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Gt(t,n,c)}else a.current=null}function Bg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Gt(t,t.return,c)}}function Lh(t,n,a){try{var l=t.stateNode;R0(l,t.type,a,n),l[Oe]=n}catch(c){Gt(t,t.return,c)}}function qg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function Bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(qh(t,n,a),t=t.sibling;t!==null;)qh(t,n,a),t=t.sibling}function co(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(co(t,n,a),t=t.sibling;t!==null;)co(t,n,a),t=t.sibling}function jg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[pe]=t,n[Oe]=a}catch(f){Gt(t,t.return,f)}}var Oi=!1,Ae=!1,jh=!1,Pg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function a0(t,n){if(t=t.containerInfo,uf=Oo,t=Wd(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,R=-1,B=0,H=0,F=t,q=null;e:for(;;){for(var P;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(R=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(P=F.firstChild)!==null;)q=F,F=P;for(;;){if(F===t)break e;if(q===a&&++B===c&&(E=g),q===f&&++H===l&&(R=g),(P=F.nextSibling)!==null)break;F=q,q=F.parentNode}F=P}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(of={focusedElem:t,selectionRange:a},Oo=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){switch(n=xe,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=lr(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Gt(a,a.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}}function Hg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&vl(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Gt(a,a.return,g)}else{var c=lr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(a,a.return,g)}}l&64&&Ug(a),l&512&&El(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{wm(t,n)}catch(g){Gt(a,a.return,g)}}break;case 27:n===null&&l&4&&jg(a);case 26:case 5:xi(t,a),n===null&&l&4&&Bg(a),l&512&&El(a,a.return);break;case 12:xi(t,a);break;case 31:xi(t,a),l&4&&Fg(t,a);break;case 13:xi(t,a),l&4&&Qg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=d0.bind(null,a),M0(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var f=Ae;Oi=l,(Ae=n)&&!f?zi(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Oi=c,Ae=f}break;case 30:break;default:xi(t,a)}}function kg(t){var n=t.alternate;n!==null&&(t.alternate=null,kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Cr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,tn=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Gg(t,n,a),a=a.sibling}function Gg(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:Ae||fi(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||fi(a,n);var l=re,c=tn;pa(a.type)&&(re=a.stateNode,tn=!1),Mi(t,n,a),Vl(a.stateNode),re=l,tn=c;break;case 5:Ae||fi(a,n);case 6:if(l=re,c=tn,re=null,Mi(t,n,a),re=l,tn=c,re!==null)if(tn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Gt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Gt(a,n,f)}break;case 18:re!==null&&(tn?(t=re,Up(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),hs(t)):Up(re,a.stateNode));break;case 4:l=re,c=tn,re=a.stateNode.containerInfo,tn=!0,Mi(t,n,a),re=l,tn=c;break;case 0:case 11:case 14:case 15:oa(2,a,n),Ae||oa(4,a,n),Mi(t,n,a);break;case 1:Ae||(fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lg(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Mi(t,n,a),Ae=l;break;default:Mi(t,n,a)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hs(t)}catch(a){Gt(n,n.return,a)}}}function Qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hs(t)}catch(a){Gt(n,n.return,a)}}function r0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Pg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Pg),n;default:throw Error(r(435,t.tag))}}function ho(t,n){var a=r0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=m0.bind(null,t,l);l.then(c,c)}})}function en(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(pa(E.type)){re=E.stateNode,tn=!1;break t}break;case 5:re=E.stateNode,tn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(re===null)throw Error(r(160));Gg(f,g,c),re=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var Pn=null;function Yg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(n,t),nn(t),l&4&&(oa(3,t,t.return),vl(3,t),oa(5,t,t.return));break;case 1:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Pn;if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$n]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[pe]=t,ye(f),l=f;break t;case"link":var g=Yp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Yp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[pe]=t,ye(f),l=f}t.stateNode=l}else Kp(c,t.type,t.stateNode);else t.stateNode=Qp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Kp(c,t.type,t.stateNode):Qp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lh(t,t.memoizedProps,a.memoizedProps)}break;case 27:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),a!==null&&l&4&&Lh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),t.flags&32){c=t.stateNode;try{We(c,"")}catch(rt){Gt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Lh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(jh=!0);break;case 6:if(en(n,t),nn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Gt(t,t.return,rt)}}break;case 3:if(Do=null,c=Pn,Pn=wo(n.containerInfo),en(n,t),Pn=c,nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hs(n.containerInfo)}catch(rt){Gt(t,t.return,rt)}jh&&(jh=!1,Kg(t));break;case 4:l=Pn,Pn=wo(t.stateNode.containerInfo),en(n,t),nn(t),Pn=l;break;case 12:en(n,t),nn(t);break;case 31:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 13:en(n,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mo=Xe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,B=Oi,H=Ae;if(Oi=B||c,Ae=H||R,en(n,t),Ae=H,Oi=B,nn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Oi||Ae||ur(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,q=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Gt(R,R.return,rt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(rt){Gt(R,R.return,rt)}}}else if(n.tag===18){if(a===null){R=n;try{var P=R.stateNode;c?Lp(P,!0):Lp(R.stateNode,!1)}catch(rt){Gt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ho(t,a))));break;case 19:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ho(t,l)));break;case 30:break;case 21:break;default:en(n,t),nn(t)}}function nn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(qg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Bh(t);co(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(We(g,""),a.flags&=-33);var E=Bh(t);co(t,E,g);break;case 3:case 4:var R=a.stateNode.containerInfo,B=Bh(t);qh(t,B,R);break;default:throw Error(r(161))}}catch(H){Gt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(t,n.alternate,n),n=n.sibling}function ur(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:oa(4,n,n.return),ur(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Lg(n,n.return,a),ur(n);break;case 27:Vl(n.stateNode);case 26:case 5:fi(n,n.return),ur(n);break;case 22:n.memoizedState===null&&ur(n);break;case 30:ur(n);break;default:ur(n)}t=t.sibling}}function zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:zi(c,f,a),vl(4,f);break;case 1:if(zi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Gt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Rm(R[c],E)}catch(B){Gt(l,l.return,B)}}a&&g&64&&Ug(f),El(f,f.return);break;case 27:jg(f);case 26:case 5:zi(c,f,a),a&&l===null&&g&4&&Bg(f),El(f,f.return);break;case 12:zi(c,f,a);break;case 31:zi(c,f,a),a&&g&4&&Fg(c,f);break;case 13:zi(c,f,a),a&&g&4&&Qg(c,f);break;case 22:f.memoizedState===null&&zi(c,f,a),El(f,f.return);break;case 30:break;default:zi(c,f,a)}n=n.sibling}}function Ph(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sl(a))}function Hh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t))}function Hn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,a,l),n=n.sibling}function Xg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(t,n,a,l),c&2048&&vl(9,n);break;case 1:Hn(t,n,a,l);break;case 3:Hn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&sl(t)));break;case 12:if(c&2048){Hn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else Hn(t,n,a,l);break;case 31:Hn(t,n,a,l);break;case 13:Hn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(t,n,a,l):Tl(t,n):f._visibility&2?Hn(t,n,a,l):(f._visibility|=2,ts(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ph(g,n);break;case 24:Hn(t,n,a,l),c&2048&&Hh(n.alternate,n);break;default:Hn(t,n,a,l)}}function ts(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,R=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:ts(f,g,E,R,c),vl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ts(f,g,E,R,c):Tl(f,g):(H._visibility|=2,ts(f,g,E,R,c)),c&&B&2048&&Ph(g.alternate,g);break;case 24:ts(f,g,E,R,c),c&&B&2048&&Hh(g.alternate,g);break;default:ts(f,g,E,R,c)}n=n.sibling}}function Tl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Tl(a,l),c&2048&&Ph(l.alternate,l);break;case 24:Tl(a,l),c&2048&&Hh(l.alternate,l);break;default:Tl(a,l)}n=n.sibling}}var Al=8192;function es(t,n,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Zg(t,n,a),t=t.sibling}function Zg(t,n,a){switch(t.tag){case 26:es(t,n,a),t.flags&Al&&t.memoizedState!==null&&F0(a,Pn,t.memoizedState,t.memoizedProps);break;case 5:es(t,n,a);break;case 3:case 4:var l=Pn;Pn=wo(t.stateNode.containerInfo),es(t,n,a),Pn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,es(t,n,a),Al=l):es(t,n,a));break;default:es(t,n,a)}}function Jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,Wg(l,t)}Jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$g(t),t=t.sibling}function $g(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&oa(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fo(t)):Sl(t);break;default:Sl(t)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,Wg(l,t)}Jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:oa(8,n,n.return),fo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fo(n));break;default:fo(n)}t=t.sibling}}function Wg(t,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=t;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(kg(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var s0={getCacheForType:function(t){var n=qe(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(ve).controller.signal}},l0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Zt=null,bt=null,wt=0,kt=0,dn=null,ca=!1,ns=!1,kh=!1,Ui=0,ue=0,ha=0,or=0,Gh=0,mn=0,is=0,bl=null,an=null,Fh=!1,mo=0,tp=0,go=1/0,po=null,fa=null,Ve=0,da=null,as=null,Li=0,Qh=0,Yh=null,ep=null,Rl=0,Kh=null;function gn(){return(qt&2)!==0&&wt!==0?wt&-wt:k.T!==null?tf():pu()}function np(){if(mn===0)if((wt&536870912)===0||It){var t=Ua;Ua<<=1,(Ua&3932160)===0&&(Ua=262144),mn=t}else mn=536870912;return t=hn.current,t!==null&&(t.flags|=32),mn}function rn(t,n,a){(t===Zt&&(kt===2||kt===9)||t.cancelPendingCommit!==null)&&(rs(t,0),ma(t,wt,mn,!1)),La(t,a),((qt&2)===0||t!==Zt)&&(t===Zt&&((qt&2)===0&&(or|=a),ue===4&&ma(t,wt,mn,!1)),di(t))}function ip(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||On(t,n),c=l?c0(t,n):Zh(t,n,!0),f=l;do{if(c===0){ns&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!u0(a)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=bl;var R=E.current.memoizedState.isDehydrated;if(R&&(rs(E,g).flags|=256),g=Zh(E,g,!1),g!==2){if(kh&&!R){E.errorRecoveryDisabledLanes|=f,or|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){rs(t,0),ma(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,mn,!ca);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=mo+300-Xe(),10<c)){if(ma(l,n,mn,!ca),Xn(l,0,!0)!==0)break t;Li=n,l.timeoutHandle=xp(ap.bind(null,l,a,an,po,Fh,n,mn,or,is,ca,f,"Throttled",-0,0),c);break t}ap(l,a,an,po,Fh,n,mn,or,is,ca,f,null,-0,0)}}break}while(!0);di(t)}function ap(t,n,a,l,c,f,g,E,R,B,H,F,q,P){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Zg(n,f,F);var rt=(f&62914560)===f?mo-Xe():(f&4194048)===f?tp-Xe():0;if(rt=Q0(F,rt),rt!==null){Li=f,t.cancelPendingCommit=rt(fp.bind(null,t,n,f,a,l,c,g,E,R,H,F,null,q,P)),ma(t,f,g,!B);return}}fp(t,n,f,a,l,c,g,E,R)}function u0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~Gh,n&=~or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-oe(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ba(t,a,n)}function yo(){return(qt&6)===0?(wl(0),!1):!0}function Xh(){if(bt!==null){if(kt===0)var t=bt.return;else t=bt,wi=tr=null,hh(t),Xr=null,ul=0,t=bt;for(;t!==null;)zg(t.alternate,t),t=t.return;bt=null}}function rs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,D0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Li=0,Xh(),Zt=t,bt=a=bi(t.current,null),wt=n,kt=0,dn=null,ca=!1,ns=On(t,n),kh=!1,is=mn=Gh=or=ha=ue=0,an=bl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-oe(l),f=1<<c;n|=t[c],l&=~f}return Ui=n,Lu(),a}function rp(t,n){Et=null,k.H=pl,n===Kr||n===Fu?(n=Tm(),kt=3):n===Wc?(n=Tm(),kt=4):kt=n===Ch?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,bt===null&&(ue=1,ro(t,An(n,t.current)))}function sp(){var t=hn.current;return t===null?!0:(wt&4194048)===wt?wn===null:(wt&62914560)===wt||(wt&536870912)!==0?t===wn:!1}function lp(){var t=k.H;return k.H=pl,t===null?pl:t}function up(){var t=k.A;return k.A=s0,t}function _o(){ue=4,ca||(wt&4194048)!==wt&&hn.current!==null||(ns=!0),(ha&134217727)===0&&(or&134217727)===0||Zt===null||ma(Zt,wt,mn,!1)}function Zh(t,n,a){var l=qt;qt|=2;var c=lp(),f=up();(Zt!==t||wt!==n)&&(po=null,rs(t,n)),n=!1;var g=ue;t:do try{if(kt!==0&&bt!==null){var E=bt,R=dn;switch(kt){case 8:Xh(),g=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var B=kt;if(kt=0,dn=null,ss(t,E,R,B),a&&ns){g=0;break t}break;default:B=kt,kt=0,dn=null,ss(t,E,R,B)}}o0(),g=ue;break}catch(H){rp(t,H)}while(!0);return n&&t.shellSuspendCounter++,wi=tr=null,qt=l,k.H=c,k.A=f,bt===null&&(Zt=null,wt=0,Lu()),g}function o0(){for(;bt!==null;)op(bt)}function c0(t,n){var a=qt;qt|=2;var l=lp(),c=up();Zt!==t||wt!==n?(po=null,go=Xe()+500,rs(t,n)):ns=On(t,n);t:do try{if(kt!==0&&bt!==null){n=bt;var f=dn;e:switch(kt){case 1:kt=0,dn=null,ss(t,n,f,1);break;case 2:case 9:if(vm(f)){kt=0,dn=null,cp(n);break}n=function(){kt!==2&&kt!==9||Zt!==t||(kt=7),di(t)},f.then(n,n);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:vm(f)?(kt=0,dn=null,cp(n)):(kt=0,dn=null,ss(t,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?Xp(g):E.stateNode.complete){kt=0,dn=null;var R=E.sibling;if(R!==null)bt=R;else{var B=E.return;B!==null?(bt=B,vo(B)):bt=null}break e}}kt=0,dn=null,ss(t,n,f,5);break;case 6:kt=0,dn=null,ss(t,n,f,6);break;case 8:Xh(),ue=6;break t;default:throw Error(r(462))}}h0();break}catch(H){rp(t,H)}while(!0);return wi=tr=null,k.H=l,k.A=c,qt=a,bt!==null?0:(Zt=null,wt=0,Lu(),ue)}function h0(){for(;bt!==null&&!wc();)op(bt)}function op(t){var n=Mg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?vo(t):bt=n}function cp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Cg(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Cg(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:hh(n);default:zg(a,n),n=bt=um(n,Ui),n=Mg(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?vo(t):bt=n}function ss(t,n,a,l){wi=tr=null,hh(n),Xr=null,ul=0;var c=n.return;try{if(WE(t,c,n,a,wt)){ue=1,ro(t,An(a,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ue=1,ro(t,An(a,t.current)),bt=null;return}n.flags&32768?(It||l===1?t=!0:ns||(wt&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),hp(n,t)):vo(n)}function vo(t){var n=t;do{if((n.flags&32768)!==0){hp(n,ca);return}t=n.return;var a=n0(n.alternate,n,Ui);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ue===0&&(ue=5)}function hp(t,n){do{var a=i0(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ue=6,bt=null}function fp(t,n,a,l,c,f,g,E,R){t.cancelPendingCommit=null;do Eo();while(Ve!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Bc,Vc(t,a,f,g,E,R),t===Zt&&(bt=Zt=null,wt=0),as=n,da=t,Li=a,Qh=f,Yh=c,ep=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g0(Gi,function(){return yp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=$.p,$.p=2,g=qt,qt|=4;try{a0(t,n,a)}finally{qt=g,$.p=c,k.T=l}}Ve=1,dp(),mp(),gp()}}function dp(){if(Ve===1){Ve=0;var t=da,n=as,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=$.p;$.p=2;var c=qt;qt|=4;try{Yg(n,t);var f=of,g=Wd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&$d(E.ownerDocument.documentElement,E)){if(R!==null&&Mc(E)){var B=R.start,H=R.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,q=F&&F.defaultView||window;if(q.getSelection){var P=q.getSelection(),rt=E.textContent.length,ct=Math.min(R.start,rt),Kt=R.end===void 0?ct:Math.min(R.end,rt);!P.extend&&ct>Kt&&(g=Kt,Kt=ct,ct=g);var x=Jd(E,ct),V=Jd(E,Kt);if(x&&V&&(P.rangeCount!==1||P.anchorNode!==x.node||P.anchorOffset!==x.offset||P.focusNode!==V.node||P.focusOffset!==V.offset)){var L=F.createRange();L.setStart(x.node,x.offset),P.removeAllRanges(),ct>Kt?(P.addRange(L),P.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),P.addRange(L))}}}}for(F=[],P=E;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Oo=!!uf,of=uf=null}finally{qt=c,$.p=l,k.T=a}}t.current=n,Ve=2}}function mp(){if(Ve===2){Ve=0;var t=da,n=as,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=$.p;$.p=2;var c=qt;qt|=4;try{Hg(t,n.alternate,n)}finally{qt=c,$.p=l,k.T=a}}Ve=3}}function gp(){if(Ve===4||Ve===3){Ve=0,ou();var t=da,n=as,a=Li,l=ep;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,as=da=null,pp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),Ei(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Nn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=$.p,$.p=2,k.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{k.T=n,$.p=c}}(Li&3)!==0&&Eo(),di(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Kh?Rl++:(Rl=0,Kh=t):Rl=0,wl(0)}}function pp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,sl(n)))}function Eo(){return dp(),mp(),gp(),yp()}function yp(){if(Ve!==5)return!1;var t=da,n=Qh;Qh=0;var a=Ei(Li),l=k.T,c=$.p;try{$.p=32>a?32:a,k.T=null,a=Yh,Yh=null;var f=da,g=Li;if(Ve=0,as=da=null,Li=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,$g(f.current),Xg(f,f.current,g,a),qt=E,wl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Nn,f)}catch{}return!0}finally{$.p=c,k.T=l,pp(t,n)}}function _p(t,n,a){n=An(a,n),n=wh(t.stateNode,n,2),t=sa(t,n,2),t!==null&&(La(t,2),di(t))}function Gt(t,n,a){if(t.tag===3)_p(t,t,a);else for(;n!==null;){if(n.tag===3){_p(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=An(a,t),a=vg(2),l=sa(n,a,2),l!==null&&(Eg(a,l,n,t),La(l,2),di(l));break}}n=n.return}}function Jh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(kh=!0,c.add(a),t=f0.bind(null,t,n,a),n.then(t,t))}function f0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Zt===t&&(wt&a)===a&&(ue===4||ue===3&&(wt&62914560)===wt&&300>Xe()-mo?(qt&2)===0&&rs(t,0):Gh|=a,is===wt&&(is=0)),di(t)}function vp(t,n){n===0&&(n=gu()),t=Ja(t,n),t!==null&&(La(t,n),di(t))}function d0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),vp(t,a)}function m0(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),vp(t,a)}function g0(t,n){return De(t,n)}var To=null,ls=null,$h=!1,Ao=!1,Wh=!1,ga=0;function di(t){t!==ls&&t.next===null&&(ls===null?To=ls=t:ls=ls.next=t),Ao=!0,$h||($h=!0,y0())}function wl(t,n){if(!Wh&&Ao){Wh=!0;do for(var a=!1,l=To;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-oe(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Sp(l,f))}else f=wt,f=Xn(l,l===Zt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||On(l,f)||(a=!0,Sp(l,f));l=l.next}while(a);Wh=!1}}function p0(){Ep()}function Ep(){Ao=$h=!1;var t=0;ga!==0&&C0()&&(t=ga);for(var n=Xe(),a=null,l=To;l!==null;){var c=l.next,f=Tp(l,n);f===0?(l.next=null,a===null?To=c:a.next=c,c===null&&(ls=a)):(a=l,(t!==0||(f&3)!==0)&&(Ao=!0)),l=c}Ve!==0&&Ve!==5||wl(t),ga!==0&&(ga=0)}function Tp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-oe(f),E=1<<g,R=c[g];R===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Dc(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,a=wt,a=Xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(kt===2||kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||On(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ki(l),Ei(a)){case 2:case 8:a=Us;break;case 32:a=Gi;break;case 268435456:a=cu;break;default:a=Gi}return l=Ap.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Ap(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eo()&&t.callbackNode!==a)return null;var l=wt;return l=Xn(t,t===Zt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ip(t,l,n),Tp(t,Xe()),t.callbackNode!=null&&t.callbackNode===a?Ap.bind(null,t):null)}function Sp(t,n){if(Eo())return null;ip(t,n,!0)}function y0(){V0(function(){(qt&6)!==0?De(zs,p0):Ep()})}function tf(){if(ga===0){var t=Qr;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ga=t}return ga}function bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nr(""+t)}function Rp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function _0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=bp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?bp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new si("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var R=g?Rp(c,g):new FormData(c);Eh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Rp(c,g):new FormData(c),Eh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var ef=0;ef<Lc.length;ef++){var nf=Lc[ef],v0=nf.toLowerCase(),E0=nf[0].toUpperCase()+nf.slice(1);jn(v0,"on"+E0)}jn(nm,"onAnimationEnd"),jn(im,"onAnimationIteration"),jn(am,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(UE,"onTransitionRun"),jn(LE,"onTransitionStart"),jn(BE,"onTransitionCancel"),jn(rm,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function wp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Uu(H)}c.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,B=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Uu(H)}c.currentTarget=null,f=R}}}}function Rt(t,n){var a=n[wr];a===void 0&&(a=n[wr]=new Set);var l=t+"__bubble";a.has(l)||(Cp(n,t,2,!1),a.add(l))}function af(t,n,a){var l=0;n&&(l|=4),Cp(a,t,l,n)}var So="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[So]){t[So]=!0,qs.forEach(function(a){a!=="selectionchange"&&(T0.has(a)||af(a,!1,t),af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[So]||(n[So]=!0,af("selectionchange",!1,n))}}function Cp(t,n,a,l){switch(ny(n)){case 2:var c=X0;break;case 8:c=Z0;break;default:c=Ef}a=c.bind(null,n,a,t),c=void 0,!ka||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function sf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=f,H=_n(a),F=[];t:{var q=sm.get(t);if(q!==void 0){var P=si,rt=t;switch(t){case"keypress":if(Fa(a)===0)break t;case"keydown":case"keyup":P=Mu;break;case"focusin":rt="focus",P=Ya;break;case"focusout":rt="blur",P=Ya;break;case"beforeblur":case"afterblur":P=Ya;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=$s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case nm:case im:case am:P=wu;break;case rm:P=T;break;case"scroll":case"scrollend":P=Js;break;case"wheel":P=j;break;case"copy":case"cut":case"paste":P=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Si;break;case"toggle":case"beforetoggle":P=vt}var ct=(n&4)!==0,Kt=!ct&&(t==="scroll"||t==="scrollend"),x=ct?q!==null?q+"Capture":null:q;ct=[];for(var V=B,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Un(V,x),G!=null&&ct.push(Dl(V,G,L))),Kt)break;V=V.return}0<ct.length&&(q=new P(q,rt,null,a,H),F.push({event:q,listeners:ct}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",q&&a!==Ks&&(rt=a.relatedTarget||a.fromElement)&&(Wn(rt)||rt[Jn]))break t;if((P||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,P?(rt=a.relatedTarget||a.toElement,P=B,rt=rt?Wn(rt):null,rt!==null&&(Kt=h(rt),ct=rt.tag,rt!==Kt||ct!==5&&ct!==27&&ct!==6)&&(rt=null)):(P=null,rt=B),P!==rt)){if(ct=$s,G="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Si,G="onPointerLeave",x="onPointerEnter",V="pointer"),Kt=P==null?q:ln(P),L=rt==null?q:ln(rt),q=new ct(G,V+"leave",P,a,H),q.target=Kt,q.relatedTarget=L,G=null,Wn(H)===B&&(ct=new ct(x,V+"enter",rt,a,H),ct.target=L,ct.relatedTarget=Kt,G=ct),Kt=G,P&&rt)e:{for(ct=A0,x=P,V=rt,L=0,G=x;G;G=ct(G))L++;G=0;for(var lt=V;lt;lt=ct(lt))G++;for(;0<L-G;)x=ct(x),L--;for(;0<G-L;)V=ct(V),G--;for(;L--;){if(x===V||V!==null&&x===V.alternate){ct=x;break e}x=ct(x),V=ct(V)}ct=null}else ct=null;P!==null&&Dp(F,q,P,ct,!1),rt!==null&&Kt!==null&&Dp(F,Kt,rt,ct,!0)}}t:{if(q=B?ln(B):window,P=q.nodeName&&q.nodeName.toLowerCase(),P==="select"||P==="input"&&q.type==="file")var zt=Fd;else if(kd(q))if(Qd)zt=ME;else{zt=NE;var st=IE}else P=q.nodeName,!P||P.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ir(B.elementType)&&(zt=Fd):zt=OE;if(zt&&(zt=zt(t,B))){Gd(F,zt,a,H);break t}st&&st(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Fs(q,"number",q.value)}switch(st=B?ln(B):window,t){case"focusin":(kd(st)||st.contentEditable==="true")&&(Br=st,xc=B,il=null);break;case"focusout":il=xc=Br=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,tm(F,a,H);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":tm(F,a,H)}var St;if(Bt)t:{switch(t){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Lr?Ka(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(oi&&a.locale!=="ko"&&(Lr||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Lr&&(St=Zs()):(ri=H,Xs="value"in ri?ri.value:ri.textContent,Lr=!0)),st=bo(B,Ct),0<st.length&&(Ct=new ui(Ct,t,null,a,H),F.push({event:Ct,listeners:st}),St?Ct.data=St:(St=Ur(a),St!==null&&(Ct.data=St)))),(St=En?wE(t,a):CE(t,a))&&(Ct=bo(B,"onBeforeInput"),0<Ct.length&&(st=new ui("onBeforeInput","beforeinput",null,a,H),F.push({event:st,listeners:Ct}),st.data=St)),_0(F,t,B,a,H)}wp(F,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Un(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=Un(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function A0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=Un(a,f),B!=null&&g.unshift(Dl(a,B,R))):c||(B=Un(a,f),B!=null&&g.push(Dl(a,B,R)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var S0=/\r\n?/g,b0=/\u0000|\uFFFD/g;function Vp(t){return(typeof t=="string"?t:""+t).replace(S0,`
`).replace(b0,"")}function Ip(t,n){return n=Vp(n),Vp(t)===n}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||We(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&We(t,""+l);break;case"className":un(t,"class",l);break;case"tabIndex":un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":un(t,a,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Nr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Nr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Nr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Dr(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Dr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Su.get(a)||a,Dr(t,a,l))}}function lf(t,n,a,l,c,f){switch(a){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?We(t,l):(typeof l=="number"||typeof l=="bigint")&&We(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Dr(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,g,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=f=g=c=null,R=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Yt(t,n,l,H,a,null)}}Eu(t,f,E,R,B,g,c,!1);return;case"select":Rt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Qi(t,!!l,n,!1):a!=null&&Qi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,g,E,a,null)}Yi(t,l,c,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Rt(Cl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,B,l,a,null)}return;default:if(Ir(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&lf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function R0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,R=null,B=null,H=null;for(P in a){var F=a[P];if(a.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(P)||Yt(t,n,P,null,l,F)}}for(var q in l){var P=l[q];if(F=a[q],l.hasOwnProperty(q)&&(P!=null||F!=null))switch(q){case"type":f=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":H=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:P!==F&&Yt(t,n,q,P,l,F)}}Vr(t,g,E,R,B,H,f,c);return;case"select":P=g=E=q=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":P=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,a=g,l=P,q!=null?Qi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Qi(t,!!a,n,!0):Qi(t,!!a,a?[]:"",!1));return;case"textarea":P=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,g,c,l,f)}Tu(t,q,P);return;case"option":for(var rt in a)if(q=a[rt],a.hasOwnProperty(rt)&&q!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Yt(t,n,rt,null,l,q)}for(R in l)if(q=l[R],P=a[R],l.hasOwnProperty(R)&&q!==P&&(q!=null||P!=null))switch(R){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Yt(t,n,R,q,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)q=a[ct],a.hasOwnProperty(ct)&&q!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,q);for(B in l)if(q=l[B],P=a[B],l.hasOwnProperty(B)&&q!==P&&(q!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Yt(t,n,B,q,l,P)}return;default:if(Ir(n)){for(var Kt in a)q=a[Kt],a.hasOwnProperty(Kt)&&q!==void 0&&!l.hasOwnProperty(Kt)&&lf(t,n,Kt,void 0,l,q);for(H in l)q=l[H],P=a[H],!l.hasOwnProperty(H)||q===P||q===void 0&&P===void 0||lf(t,n,H,q,l,P);return}}for(var x in a)q=a[x],a.hasOwnProperty(x)&&q!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,q);for(F in l)q=l[F],P=a[F],!l.hasOwnProperty(F)||q===P||q==null&&P==null||Yt(t,n,F,q,l,P)}function Np(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Np(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var R=a[l],B=R.startTime;if(B>E)break;var H=R.transferSize,F=R.initiatorType;H&&Np(F)&&(R=R.responseEnd,g+=H*(R<E?1:(E-B)/(R-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var uf=null,of=null;function Ro(t){return t.nodeType===9?t:t.ownerDocument}function Op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function C0(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var xp=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(t){return zp.resolve(null).then(t).catch(I0)}:xp;function I0(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function Up(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),hs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Vl(t.ownerDocument.body);a=c}while(a);hs(n)}function Lp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ff(a),Cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function N0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$n])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function O0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Cn(t.nextSibling),t===null))return null;return t}function Bp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Cn(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$?"||t.data==="$~"}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function M0(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var gf=null;function qp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Cn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function jp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Pp(t,n,a){switch(n=Ro(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Cr(t)}var Dn=new Map,Hp=new Set;function wo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=$.d;$.d={f:x0,r:z0,D:U0,C:L0,L:B0,m:q0,X:P0,S:j0,M:H0};function x0(){var t=Bi.f(),n=yo();return t||n}function z0(t){var n=yn(t);n!==null&&n.tag===5&&n.type==="form"?rg(n):Bi.r(t)}var us=typeof document>"u"?null:document;function kp(t,n,a){var l=us;if(l&&typeof n=="string"&&n){var c=$e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Hp.has(c)||(Hp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function U0(t){Bi.D(t),kp("dns-prefetch",t,null)}function L0(t,n){Bi.C(t,n),kp("preconnect",t,n)}function B0(t,n,a){Bi.L(t,n,a);var l=us;if(l&&t&&n){var c='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+$e(a.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var f=c;switch(n){case"style":f=os(t);break;case"script":f=cs(t)}Dn.has(f)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Il(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function q0(t,n){Bi.m(t,n);var a=us;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=cs(t)}if(!Dn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}l=a.createElement("link"),Pe(l,"link",t),ye(l),a.head.appendChild(l)}}}function j0(t,n,a){Bi.S(t,n,a);var l=us;if(l&&t){var c=ti(l).hoistableStyles,f=os(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Il(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&pf(t,a);var R=g=l.createElement("link");ye(R),Pe(R,"link",t),R._p=new Promise(function(B,H){R.onload=B,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Co(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function P0(t,n){Bi.X(t,n);var a=us;if(a&&t){var l=ti(a).hoistableScripts,c=cs(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=w({src:t,async:!0},n),(n=Dn.get(c))&&yf(t,n),f=a.createElement("script"),ye(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function H0(t,n){Bi.M(t,n);var a=us;if(a&&t){var l=ti(a).hoistableScripts,c=cs(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&yf(t,n),f=a.createElement("script"),ye(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gp(t,n,a,l){var c=(c=At.current)?wo(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=os(a.href),a=ti(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=os(a.href);var f=ti(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Il(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||k0(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(a),a=ti(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function os(t){return'href="'+$e(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Fp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function k0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),ye(n),t.head.appendChild(n))}function cs(t){return'[src="'+$e(t)+'"]'}function Nl(t){return"script[async]"+t}function Qp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),Pe(l,"style",c),Co(l,a.precedence,t),n.instance=l;case"stylesheet":c=os(a.href);var f=t.querySelector(Il(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=Fp(a),(c=Dn.get(c))&&pf(l,c),f=(t.ownerDocument||t).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Co(f,a.precedence,t),n.instance=f;case"script":return f=cs(a.src),(c=t.querySelector(Nl(f)))?(n.instance=c,ye(c),c):(l=a,(c=Dn.get(f))&&(l=w({},a),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Co(l,a.precedence,t));return n.instance}function Co(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Do=null;function Yp(t,n,a){if(Do===null){var l=new Map,c=Do=new Map;c.set(a,l)}else c=Do,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[$n]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Kp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function G0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function F0(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=os(l.href),f=n.querySelector(Il(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Vo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ye(f);return}f=n.ownerDocument||n,l=Fp(l),(c=Dn.get(c))&&pf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Pe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Vo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var _f=0;function Q0(t,n){return t.stylesheets&&t.count===0&&No(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&No(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&_f===0&&(_f=62500*w0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&No(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>_f?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)No(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Io=null;function No(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Io=new Map,n.forEach(Y0,t),Io=null,Vo.call(t))}function Y0(t,n){if(!(n.state.loading&4)){var a=Io.get(t);if(a)var l=a.get(null);else{a=new Map,Io.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Vo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function K0(t,n,a,l,c,f,g,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Zp(t,n,a,l,c,f,g,E,R,B,H,F){return t=new K0(t,n,a,g,R,B,H,F,E),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},th(f),t}function Jp(t){return t?(t=Pr,t):Pr}function $p(t,n,a,l,c,f){c=Jp(c),l.context===null?l.context=c:l.pendingContext=c,l=ra(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=sa(t,l,n),a!==null&&(rn(a,t,n),cl(a,t,n))}function Wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function vf(t,n){Wp(t,n),(t=t.alternate)&&Wp(t,n)}function ty(t){if(t.tag===13||t.tag===31){var n=Ja(t,67108864);n!==null&&rn(n,t,67108864),vf(t,67108864)}}function ey(t){if(t.tag===13||t.tag===31){var n=gn();n=qa(n);var a=Ja(t,n);a!==null&&rn(a,t,n),vf(t,n)}}var Oo=!0;function X0(t,n,a,l){var c=k.T;k.T=null;var f=$.p;try{$.p=2,Ef(t,n,a,l)}finally{$.p=f,k.T=c}}function Z0(t,n,a,l){var c=k.T;k.T=null;var f=$.p;try{$.p=8,Ef(t,n,a,l)}finally{$.p=f,k.T=c}}function Ef(t,n,a,l){if(Oo){var c=Tf(l);if(c===null)sf(t,n,l,Mo,a),iy(t,l);else if($0(c,t,n,a,l))l.stopPropagation();else if(iy(t,l),n&4&&-1<J0.indexOf(t)){for(;c!==null;){var f=yn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Kn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-oe(g);E.entanglements[1]|=R,g&=~R}di(f),(qt&6)===0&&(go=Xe()+500,wl(0))}}break;case 31:case 13:E=Ja(f,2),E!==null&&rn(E,f,2),yo(),vf(f,2)}if(f=Tf(l),f===null&&sf(t,n,l,Mo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else sf(t,n,l,null,a)}}function Tf(t){return t=_n(t),Af(t)}var Mo=null;function Af(t){if(Mo=null,t=Wn(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mo=t,null}function ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(za()){case zs:return 2;case Us:return 8;case Gi:case Cc:return 32;case cu:return 268435456;default:return 32}default:return 32}}var Sf=!1,ya=null,_a=null,va=null,Ml=new Map,xl=new Map,Ea=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iy(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function zl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=yn(n),n!==null&&ty(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function $0(t,n,a,l,c){switch(n){case"focusin":return ya=zl(ya,t,n,a,l,c),!0;case"dragenter":return _a=zl(_a,t,n,a,l,c),!0;case"mouseover":return va=zl(va,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,zl(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,zl(xl.get(f)||null,t,n,a,l,c)),!0}return!1}function ay(t){var n=Wn(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){ey(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){ey(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ks=l,a.target.dispatchEvent(l),Ks=null}else return n=yn(a),n!==null&&ty(n),t.blockedOn=a,!1;n.shift()}return!0}function ry(t,n,a){xo(t)&&a.delete(n)}function W0(){Sf=!1,ya!==null&&xo(ya)&&(ya=null),_a!==null&&xo(_a)&&(_a=null),va!==null&&xo(va)&&(va=null),Ml.forEach(ry),xl.forEach(ry)}function zo(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,W0)))}var Uo=null;function sy(t){Uo!==t&&(Uo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uo===t&&(Uo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var f=yn(a);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function hs(t){function n(R){return zo(R,t)}ya!==null&&zo(ya,t),_a!==null&&zo(_a,t),va!==null&&zo(va,t),Ml.forEach(n),xl.forEach(n);for(var a=0;a<Ea.length;a++){var l=Ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)ay(a),a.blockedOn===null&&Ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||sy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Af(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),sy(a)}}}function ly(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function bf(t){this._internalRoot=t}Lo.prototype.render=bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=gn();$p(a,l,t,n,null,null)},Lo.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;$p(t.current,2,null,t,null,null),yo(),n[Jn]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var n=pu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,t),a===0&&ay(t)}};var uy=e.version;if(uy!=="19.2.4")throw Error(r(527,uy,"19.2.4"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var tT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Nn=Bo.inject(tT),Ue=Bo}catch{}}return Ll.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=gg,f=pg,g=yg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Zp(t,1,!1,null,null,a,l,null,c,f,g,ly),t[Jn]=n.current,rf(t),new bf(n)},Ll.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=gg,g=pg,E=yg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=Zp(t,1,!0,n,a??null,l,c,R,f,g,E,ly),n.context=Jp(null),a=n.current,l=gn(),l=qa(l),c=ra(l),c.callback=null,sa(a,c,l),a=l,n.current.lanes=a,La(n,a),di(n),t[Jn]=n.current,rf(t),new Lo(n)},Ll.version="19.2.4",Ll}var _y;function hT(){if(_y)return Cf.exports;_y=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cf.exports=cT(),Cf.exports}var fT=hT();const dT=U_(fT),vy={USER_A:"anel",USER_B:"yerk"},Ey={USER_A:"Anel",USER_B:"Yerka"},Ty={bubbleA:"bg-[#E0F2F1] text-[#2D5A54]",bubbleB:"bg-[#F3E5F5] text-[#5B3F6B]"};console.log("project:","chitchat-ea762");const mT=({onLogin:s})=>{const[e,i]=gi.useState(""),[r,u]=gi.useState(!1),h=d=>{d.preventDefault(),e===vy.USER_A?s("USER_A"):e===vy.USER_B?s("USER_B"):(u(!0),setTimeout(()=>u(!1),2e3))};return dt.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 bg-[#FDFBF7]",children:dt.jsxs("div",{className:"w-full max-w-sm p-8 bg-white rounded-3xl shadow-sm border border-[#F0E6D2]",children:[dt.jsx("h1",{className:"text-2xl font-header font-semibold text-center text-[#7C9070] mb-8",children:""}),dt.jsxs("form",{onSubmit:h,className:"space-y-6",children:[dt.jsxs("div",{className:"relative",children:[dt.jsx("input",{type:"password",value:e,onChange:d=>i(d.target.value),placeholder:")",className:`w-full px-5 py-4 text-center text-lg bg-[#FAF9F6] border rounded-2xl outline-none transition-all duration-300 placeholder:text-gray-300 ${r?"border-red-300 bg-red-50 text-red-500":"border-[#F0E6D2] focus:border-[#B7C4CF] text-[#555]"}`}),r&&dt.jsx("p",{className:"absolute -bottom-6 left-0 right-0 text-center text-xs text-red-400 font-medium animate-pulse",children:" "})]}),dt.jsx("button",{type:"submit",className:"w-full py-4 font-header font-medium text-white bg-[#9CAFAA] rounded-2xl hover:bg-[#8CA09A] transition-colors shadow-lg shadow-[#9CAFAA44]",children:""})]}),dt.jsx("p",{className:"mt-8 text-center text-[10px] uppercase tracking-widest text-gray-300",children:" "})]})})},gT=()=>{};var Ay={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},pT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],y=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,y=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,w=(h&3)<<4|y>>4;let M=(y&15)<<2|_>>6,K=_&63;v||(K=64,d||(M=64)),r.push(i[A],i[w],i[M],i[K])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(L_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):pT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],y=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const w=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||y==null||_==null||w==null)throw new yT;const M=h<<2|y>>4;if(r.push(M),_!==64){const K=y<<4&240|_>>2;if(r.push(K),w!==64){const J=_<<6&192|w;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class yT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _T=function(s){const e=L_(s);return B_.encodeByteArray(e,!0)},Zo=function(s){return _T(s).replace(/\./g,"")},vT=function(s){try{return B_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=()=>ET().__FIREBASE_DEFAULTS__,AT=()=>{if(typeof process>"u"||typeof Ay>"u")return;const s=Ay.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ST=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&vT(s[1]);return e&&JSON.parse(e)},od=()=>{try{return gT()||TT()||AT()||ST()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},bT=s=>{var e,i;return(i=(e=od())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},RT=s=>{const e=bT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},q_=()=>{var s;return(s=od())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zo(JSON.stringify(i)),Zo(JSON.stringify(d)),""].join(".")}const kl={};function VT(){const s={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?s.emulator.push(e):s.prod.push(e);return s}function IT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Sy=!1;function NT(s,e){if(typeof window>"u"||typeof document>"u"||!cd(window.location.host)||kl[s]===e||kl[s]||Sy)return;kl[s]=e;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",h=VT().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Sy=!0,d()},M}function A(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=IT(r),K=i("text"),J=document.getElementById(K)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),yt=i("preprendIcon"),Tt=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _t=M.element;y(_t),A(tt,et);const Xt=_();v(Tt,yt),_t.append(Tt,J,tt,Xt),document.body.appendChild(_t)}h?(J.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MT(){var e;const s=(e=od())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xT(){return!MT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function UT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class ws extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=LT,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j_.prototype.create)}}class j_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?BT(h,r):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new ws(u,y,r)}}function BT(s,e){return s.replace(qT,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const qT=/\{\$([^}]+)}/g;function Jo(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(by(h)&&by(d)){if(!Jo(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function by(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(s){return s&&s._delegate?s._delegate:s}class Xl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new wT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(u)}return u}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(r)??new Set;u.add(e),this.onInitCallbacks.set(r,u);const h=this.instances.get(r);return h&&e(h,r),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(s){return s===cr?void 0:s}function HT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new jT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const GT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},FT=Mt.INFO,QT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},YT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=QT[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P_{constructor(e){this.name=e,this._logLevel=FT,this._logHandler=YT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const KT=(s,e)=>e.some(i=>s instanceof i);let Ry,wy;function XT(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZT(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,jf=new WeakMap,k_=new WeakMap,Nf=new WeakMap,hd=new WeakMap;function JT(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Sa(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&H_.set(i,s)}).catch(()=>{}),hd.set(e,s),e}function $T(s){if(jf.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});jf.set(s,e)}let Pf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return jf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||k_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function WT(s){Pf=s(Pf)}function t1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Of(this),e,...i);return k_.set(r,e.sort?e.sort():[e]),Sa(r)}:ZT().includes(s)?function(...e){return s.apply(Of(this),e),Sa(H_.get(this))}:function(...e){return Sa(s.apply(Of(this),e))}}function e1(s){return typeof s=="function"?t1(s):(s instanceof IDBTransaction&&$T(s),KT(s,XT())?new Proxy(s,Pf):s)}function Sa(s){if(s instanceof IDBRequest)return JT(s);if(Nf.has(s))return Nf.get(s);const e=e1(s);return e!==s&&(Nf.set(s,e),hd.set(e,s)),e}const Of=s=>hd.get(s);function n1(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),y=Sa(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Sa(d.result),v.oldVersion,v.newVersion,Sa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const i1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],Mf=new Map;function Cy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=a1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||i1.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Mf.set(e,h),h}WT(s=>({...s,get:(e,i,r)=>Cy(e,i)||s.get(e,i,r),has:(e,i)=>!!Cy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(s1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function s1(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",Dy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new P_("@firebase/app"),l1="@firebase/app-compat",u1="@firebase/analytics-compat",o1="@firebase/analytics",c1="@firebase/app-check-compat",h1="@firebase/app-check",f1="@firebase/auth",d1="@firebase/auth-compat",m1="@firebase/database",g1="@firebase/data-connect",p1="@firebase/database-compat",y1="@firebase/functions",_1="@firebase/functions-compat",v1="@firebase/installations",E1="@firebase/installations-compat",T1="@firebase/messaging",A1="@firebase/messaging-compat",S1="@firebase/performance",b1="@firebase/performance-compat",R1="@firebase/remote-config",w1="@firebase/remote-config-compat",C1="@firebase/storage",D1="@firebase/storage-compat",V1="@firebase/firestore",I1="@firebase/ai",N1="@firebase/firestore-compat",O1="firebase",M1="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="[DEFAULT]",x1={[Hf]:"fire-core",[l1]:"fire-core-compat",[o1]:"fire-analytics",[u1]:"fire-analytics-compat",[h1]:"fire-app-check",[c1]:"fire-app-check-compat",[f1]:"fire-auth",[d1]:"fire-auth-compat",[m1]:"fire-rtdb",[g1]:"fire-data-connect",[p1]:"fire-rtdb-compat",[y1]:"fire-fn",[_1]:"fire-fn-compat",[v1]:"fire-iid",[E1]:"fire-iid-compat",[T1]:"fire-fcm",[A1]:"fire-fcm-compat",[S1]:"fire-perf",[b1]:"fire-perf-compat",[R1]:"fire-rc",[w1]:"fire-rc-compat",[C1]:"fire-gcs",[D1]:"fire-gcs-compat",[V1]:"fire-fst",[N1]:"fire-fst-compat",[I1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Map,z1=new Map,Gf=new Map;function Vy(s,e){try{s.container.addComponent(e)}catch(i){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wo(s){const e=s.name;if(Gf.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,s);for(const i of $o.values())Vy(i,s);for(const i of z1.values())Vy(i,s);return!0}function U1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function L1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new j_("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=M1;function G_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:kf,automaticDataCollectionEnabled:!0,...e},u=r.name;if(typeof u!="string"||!u)throw ba.create("bad-app-name",{appName:String(u)});if(i||(i=q_()),!i)throw ba.create("no-options");const h=$o.get(u);if(h){if(Jo(i,h.options)&&Jo(r,h.config))return h;throw ba.create("duplicate-app",{appName:u})}const d=new kT(u);for(const v of Gf.values())d.addComponent(v);const y=new q1(i,r,d);return $o.set(u,y),y}function P1(s=kf){const e=$o.get(s);if(!e&&s===kf&&q_())return G_();if(!e)throw ba.create("no-app",{appName:s});return e}function ps(s,e,i){let r=x1[s]??s;i&&(r+=`-${i}`);const u=r.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${r}" with version "${e}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}Wo(new Xl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",k1=1,Zl="firebase-heartbeat-store";let xf=null;function F_(){return xf||(xf=n1(H1,k1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw ba.create("idb-open",{originalErrorMessage:s.message})})),xf}async function G1(s){try{const i=(await F_()).transaction(Zl),r=await i.objectStore(Zl).get(Q_(s));return await i.done,r}catch(e){if(e instanceof ws)ji.warn(e.message);else{const i=ba.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(i.message)}}}async function Iy(s,e){try{const r=(await F_()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,Q_(s)),await r.done}catch(i){if(i instanceof ws)ji.warn(i.message);else{const r=ba.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ji.warn(r.message)}}}function Q_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1024,Q1=30;class Y1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new X1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ny();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>Q1){const d=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ny(),{heartbeatsToSend:r,unsentEntries:u}=K1(this._heartbeatsCache.heartbeats),h=Zo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ji.warn(i),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function K1(s,e=F1){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Oy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Oy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class X1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?UT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await G1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Oy(s){return Zo(JSON.stringify({version:2,heartbeats:s})).length}function Z1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(s){Wo(new Xl("platform-logger",e=>new r1(e),"PRIVATE")),Wo(new Xl("heartbeat",e=>new Y1(e),"PRIVATE")),ps(Hf,Dy,s),ps(Hf,Dy,"esm2020"),ps("fire-js","")}J1("");var My=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,Y_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(O,I,z){for(var b=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)b[ne-2]=arguments[ne];return S.prototype[I].apply(O,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,S,C){C||(C=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(I=0;I<16;++I)O[I]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],I=D.g[2];let z=D.g[3],b;b=S+(z^C&(I^z))+O[0]+3614090360&4294967295,S=C+(b<<7&4294967295|b>>>25),b=z+(I^S&(C^I))+O[1]+3905402710&4294967295,z=S+(b<<12&4294967295|b>>>20),b=I+(C^z&(S^C))+O[2]+606105819&4294967295,I=z+(b<<17&4294967295|b>>>15),b=C+(S^I&(z^S))+O[3]+3250441966&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(z^C&(I^z))+O[4]+4118548399&4294967295,S=C+(b<<7&4294967295|b>>>25),b=z+(I^S&(C^I))+O[5]+1200080426&4294967295,z=S+(b<<12&4294967295|b>>>20),b=I+(C^z&(S^C))+O[6]+2821735955&4294967295,I=z+(b<<17&4294967295|b>>>15),b=C+(S^I&(z^S))+O[7]+4249261313&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(z^C&(I^z))+O[8]+1770035416&4294967295,S=C+(b<<7&4294967295|b>>>25),b=z+(I^S&(C^I))+O[9]+2336552879&4294967295,z=S+(b<<12&4294967295|b>>>20),b=I+(C^z&(S^C))+O[10]+4294925233&4294967295,I=z+(b<<17&4294967295|b>>>15),b=C+(S^I&(z^S))+O[11]+2304563134&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(z^C&(I^z))+O[12]+1804603682&4294967295,S=C+(b<<7&4294967295|b>>>25),b=z+(I^S&(C^I))+O[13]+4254626195&4294967295,z=S+(b<<12&4294967295|b>>>20),b=I+(C^z&(S^C))+O[14]+2792965006&4294967295,I=z+(b<<17&4294967295|b>>>15),b=C+(S^I&(z^S))+O[15]+1236535329&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(I^z&(C^I))+O[1]+4129170786&4294967295,S=C+(b<<5&4294967295|b>>>27),b=z+(C^I&(S^C))+O[6]+3225465664&4294967295,z=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(z^S))+O[11]+643717713&4294967295,I=z+(b<<14&4294967295|b>>>18),b=C+(z^S&(I^z))+O[0]+3921069994&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(I^z&(C^I))+O[5]+3593408605&4294967295,S=C+(b<<5&4294967295|b>>>27),b=z+(C^I&(S^C))+O[10]+38016083&4294967295,z=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(z^S))+O[15]+3634488961&4294967295,I=z+(b<<14&4294967295|b>>>18),b=C+(z^S&(I^z))+O[4]+3889429448&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(I^z&(C^I))+O[9]+568446438&4294967295,S=C+(b<<5&4294967295|b>>>27),b=z+(C^I&(S^C))+O[14]+3275163606&4294967295,z=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(z^S))+O[3]+4107603335&4294967295,I=z+(b<<14&4294967295|b>>>18),b=C+(z^S&(I^z))+O[8]+1163531501&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(I^z&(C^I))+O[13]+2850285829&4294967295,S=C+(b<<5&4294967295|b>>>27),b=z+(C^I&(S^C))+O[2]+4243563512&4294967295,z=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(z^S))+O[7]+1735328473&4294967295,I=z+(b<<14&4294967295|b>>>18),b=C+(z^S&(I^z))+O[12]+2368359562&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(C^I^z)+O[5]+4294588738&4294967295,S=C+(b<<4&4294967295|b>>>28),b=z+(S^C^I)+O[8]+2272392833&4294967295,z=S+(b<<11&4294967295|b>>>21),b=I+(z^S^C)+O[11]+1839030562&4294967295,I=z+(b<<16&4294967295|b>>>16),b=C+(I^z^S)+O[14]+4259657740&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(C^I^z)+O[1]+2763975236&4294967295,S=C+(b<<4&4294967295|b>>>28),b=z+(S^C^I)+O[4]+1272893353&4294967295,z=S+(b<<11&4294967295|b>>>21),b=I+(z^S^C)+O[7]+4139469664&4294967295,I=z+(b<<16&4294967295|b>>>16),b=C+(I^z^S)+O[10]+3200236656&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(C^I^z)+O[13]+681279174&4294967295,S=C+(b<<4&4294967295|b>>>28),b=z+(S^C^I)+O[0]+3936430074&4294967295,z=S+(b<<11&4294967295|b>>>21),b=I+(z^S^C)+O[3]+3572445317&4294967295,I=z+(b<<16&4294967295|b>>>16),b=C+(I^z^S)+O[6]+76029189&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(C^I^z)+O[9]+3654602809&4294967295,S=C+(b<<4&4294967295|b>>>28),b=z+(S^C^I)+O[12]+3873151461&4294967295,z=S+(b<<11&4294967295|b>>>21),b=I+(z^S^C)+O[15]+530742520&4294967295,I=z+(b<<16&4294967295|b>>>16),b=C+(I^z^S)+O[2]+3299628645&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(I^(C|~z))+O[0]+4096336452&4294967295,S=C+(b<<6&4294967295|b>>>26),b=z+(C^(S|~I))+O[7]+1126891415&4294967295,z=S+(b<<10&4294967295|b>>>22),b=I+(S^(z|~C))+O[14]+2878612391&4294967295,I=z+(b<<15&4294967295|b>>>17),b=C+(z^(I|~S))+O[5]+4237533241&4294967295,C=I+(b<<21&4294967295|b>>>11),b=S+(I^(C|~z))+O[12]+1700485571&4294967295,S=C+(b<<6&4294967295|b>>>26),b=z+(C^(S|~I))+O[3]+2399980690&4294967295,z=S+(b<<10&4294967295|b>>>22),b=I+(S^(z|~C))+O[10]+4293915773&4294967295,I=z+(b<<15&4294967295|b>>>17),b=C+(z^(I|~S))+O[1]+2240044497&4294967295,C=I+(b<<21&4294967295|b>>>11),b=S+(I^(C|~z))+O[8]+1873313359&4294967295,S=C+(b<<6&4294967295|b>>>26),b=z+(C^(S|~I))+O[15]+4264355552&4294967295,z=S+(b<<10&4294967295|b>>>22),b=I+(S^(z|~C))+O[6]+2734768916&4294967295,I=z+(b<<15&4294967295|b>>>17),b=C+(z^(I|~S))+O[13]+1309151649&4294967295,C=I+(b<<21&4294967295|b>>>11),b=S+(I^(C|~z))+O[4]+4149444226&4294967295,S=C+(b<<6&4294967295|b>>>26),b=z+(C^(S|~I))+O[11]+3174756917&4294967295,z=S+(b<<10&4294967295|b>>>22),b=I+(S^(z|~C))+O[2]+718787259&4294967295,I=z+(b<<15&4294967295|b>>>17),b=C+(z^(I|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,O=this.C;let I=this.h,z=0;for(;z<S;){if(I==0)for(;z<=C;)u(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(O[I++]=D.charCodeAt(z++),I==this.blockSize){u(this,O),I=0;break}}else for(;z<S;)if(O[I++]=D[z++],I==this.blockSize){u(this,O),I=0;break}}this.h=I,this.o+=S},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)D[S++]=this.g[C]>>>O&255;return D};function h(D,S){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let O=!0;for(let I=D.length-1;I>=0;I--){const z=D[I]|0;O&&z==S||(C[I]=z,O=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return tt(_(-D));const S=[];let C=1;for(let O=0;D>=C;O++)S[O]=D/C|0,C*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return tt(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let O=w;for(let z=0;z<D.length;z+=8){var I=Math.min(8,D.length-z);const b=parseInt(D.substring(z,z+I),S);I<8?(I=_(Math.pow(S,I)),O=O.j(I).add(_(b))):(O=O.j(C),O=O.add(_(b)))}return O}var w=v(0),M=v(1),K=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-tt(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(et(this))return"-"+tt(this).toString(D);const S=_(Math.pow(D,6));var C=this;let O="";for(;;){const I=Xt(C,S).g;C=yt(C,I.j(S));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=I,J(C))return z+O;for(;z.length<6;)z="0"+z;O=z+O}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function et(D){return D.h==-1}s.l=function(D){return D=yt(this,D),et(D)?-1:J(D)?0:1};function tt(D){const S=D.g.length,C=[];for(let O=0;O<S;O++)C[O]=~D.g[O];return new d(C,~D.h).add(M)}s.abs=function(){return et(this)?tt(this):this},s.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let O=0;for(let I=0;I<=S;I++){let z=O+(this.i(I)&65535)+(D.i(I)&65535),b=(z>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);O=b>>>16,z&=65535,b&=65535,C[I]=b<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function yt(D,S){return D.add(tt(S))}s.j=function(D){if(J(this)||J(D))return w;if(et(this))return et(D)?tt(this).j(tt(D)):tt(tt(this).j(D));if(et(D))return tt(this.j(tt(D)));if(this.l(K)<0&&D.l(K)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<D.g.length;I++){const z=this.i(O)>>>16,b=this.i(O)&65535,ne=D.i(I)>>>16,we=D.i(I)&65535;C[2*O+2*I]+=b*we,Tt(C,2*O+2*I),C[2*O+2*I+1]+=z*we,Tt(C,2*O+2*I+1),C[2*O+2*I+1]+=b*ne,Tt(C,2*O+2*I+1),C[2*O+2*I+2]+=z*ne,Tt(C,2*O+2*I+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function Tt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function _t(D,S){this.g=D,this.h=S}function Xt(D,S){if(J(S))throw Error("division by zero");if(J(D))return new _t(w,w);if(et(D))return S=Xt(tt(D),S),new _t(tt(S.g),tt(S.h));if(et(S))return S=Xt(D,tt(S)),new _t(tt(S.g),S.h);if(D.g.length>30){if(et(D)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=M,O=S;O.l(D)<=0;)C=ee(C),O=ee(O);var I=Lt(C,1),z=Lt(O,1);for(O=Lt(O,2),C=Lt(C,2);!J(O);){var b=z.add(O);b.l(D)<=0&&(I=I.add(C),z=b),O=Lt(O,1),C=Lt(C,1)}return S=yt(D,I.j(S)),new _t(I,S)}for(I=w;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),z=_(C),b=z.j(S);et(b)||b.l(D)>0;)C-=O,z=_(C),b=z.j(S);J(z)&&(z=M),I=I.add(z),D=yt(D,b)}return new _t(I,D)}s.B=function(D){return Xt(this,D).h},s.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)&D.i(O);return new d(C,this.h&D.h)},s.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)|D.i(O);return new d(C,this.h|D.h)},s.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let O=0;O<S;O++)C[O]=this.i(O)^D.i(O);return new d(C,this.h^D.h)};function ee(D){const S=D.g.length+1,C=[];for(let O=0;O<S;O++)C[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(C,D.h)}function Lt(D,S){const C=S>>5;S%=32;const O=D.g.length-C,I=[];for(let z=0;z<O;z++)I[z]=S>0?D.i(z+C)>>>S|D.i(z+C+1)<<32-S:D.i(z+C);return new d(I,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Y_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ra=d}).apply(typeof My<"u"?My:typeof self<"u"?self:typeof window<"u"?window:{});var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K_,ql,X_,Go,Ff,Z_,J_,$_;(function(){var s,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof qo=="object"&&qo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function w(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,j){for(var Z=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)Z[vt-2]=arguments[vt];return m.prototype[U].apply(T,Z)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function K(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const j=U.length||0;o.length=p+j;for(let Z=0;Z<j;Z++)o[p+Z]=U[Z]}else o.push(U)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(o){d.setTimeout(()=>{throw o},0)}function yt(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,p){const T=_t.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new et(()=>new Xt,o=>o.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Lt=!1,D=new Tt,S=()=>{const o=Promise.resolve(void 0);ee=()=>{o.then(C)}};function C(){for(var o;o=yt();){try{o.h.call(o.g)}catch(p){tt(p)}var m=_t;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Lt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function b(o){return/^[\s\xa0]*$/.test(o)}function ne(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}w(ne,I),ne.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),k=0;function $(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++k,this.da=this.fa=!1}function ot(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function xt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Pt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function N(o){const m={};for(const p in o)m[p]=o[p];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let j=0;j<Q.length;j++)p=Q[j],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,m,p,T,U){const j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);const Z=At(o,m,T,U);return Z>-1?(m=o[Z],p||(m.fa=!1)):(m=new $(m,this.src,j,!!T,U),m.fa=p,o.push(m)),m};function ft(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ot(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function At(o,m,p,T){for(let U=0;U<o.length;++U){const j=o[U];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(o,m,p,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ie(o,m[j],p,T,U);return null}return p=xs(p),o&&o[we]?o.J(m,p,y(T)?!!T.capture:!1,U):Ma(o,m,p,!1,T,U)}function Ma(o,m,p,T,U,j){if(!m)throw Error("Invalid event type");const Z=y(U)?!!U.capture:!!U;let vt=xa(o);if(vt||(o[Nt]=vt=new at(o)),p=vt.add(m,p,T,Z,j),p.proxy)return p;if(T=Ar(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)z||(U=Z),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Qn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ar(){function o(p){return m.call(o.src,o.listener,p)}const m=Os;return o}function Sr(o,m,p,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Sr(o,m[j],p,T,U);else T=y(T)?!!T.capture:!!T,p=xs(p),o&&o[we]?(o=o.i,j=String(m).toString(),j in o.g&&(m=o.g[j],p=At(m,p,T,U),p>-1&&(ot(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[j],o.h--)))):o&&(o=xa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=At(m,p,T,U)),(p=o>-1?m[o]:null)&&br(p))}function br(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])ft(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=xa(m))?(ft(p,o),p.h==0&&(p.src=null,m[Nt]=null)):ot(o)}}}function Qn(o){return o in Ce?Ce[o]:Ce[o]="on"+o}function Os(o,m){if(o.da)o=!0;else{m=new ne(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&br(o),o=p.call(T,m)}return o}function xa(o){return o=o[Nt],o instanceof at?o:null}var Ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(o){return typeof o=="function"?o:(o[Ms]||(o[Ms]=function(m){return o.handleEvent(m)}),o[Ms])}function me(){O.call(this),this.i=new at(this),this.M=this,this.G=null}w(me,O),me.prototype[we]=!0,me.prototype.removeEventListener=function(o,m,p,T){Sr(this,o,m,p,T)};function De(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var U=m;m=new I(T,o),W(m,U)}U=!0;let j,Z;if(p)for(Z=p.length-1;Z>=0;Z--)j=m.g=p[Z],U=ki(j,T,!0,m)&&U;if(j=m.g=o,U=ki(j,T,!0,m)&&U,U=ki(j,T,!1,m)&&U,p)for(Z=0;Z<p.length;Z++)j=m.g=p[Z],U=ki(j,T,!1,m)&&U}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ot(p[T]);delete o.g[m],o.h--}}this.G=null},me.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},me.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ki(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const Z=m[j];if(Z&&!Z.da&&Z.capture==p){const vt=Z.listener,ce=Z.ha||Z.src;Z.fa&&ft(o.i,Z),U=vt.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function wc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function ou(o){o.g=wc(()=>{o.g=null,o.i&&(o.i=!1,ou(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Xe extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function za(o){O.call(this),this.h=o,this.g={}}w(za,O);var zs=[];function Us(o){xt(o.g,function(m,p){this.g.hasOwnProperty(p)&&br(m)},o),o.g={}}za.prototype.N=function(){za.Z.N.call(this),Us(this)},za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,Cc=d.JSON.parse,cu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function hu(){}function fu(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){I.call(this,"d")}w(Ue,I);function pn(){I.call(this,"c")}w(pn,I);var oe={},du=null;function Rr(){return du=du||new me}oe.Ia="serverreachability";function mu(o){I.call(this,oe.Ia,o)}w(mu,I);function Yn(o){const m=Rr();De(m,new mu(m))}oe.STAT_EVENT="statevent";function Ua(o,m){I.call(this,oe.STAT_EVENT,o),this.stat=m}w(Ua,I);function ge(o){const m=Rr();De(m,new Ua(m,o))}oe.Ja="timingevent";function Kn(o,m){I.call(this,oe.Ja,o),this.size=m}w(Kn,I);function Xn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function On(){this.g=!0}On.prototype.ua=function(){this.g=!1};function Dc(o,m,p,T,U,j){o.info(function(){if(o.g)if(j){var Z="",vt=j.split("&");for(let Bt=0;Bt<vt.length;Bt++){var ce=vt[Bt].split("=");if(ce.length>1){const ae=ce[0];ce=ce[1];const En=ae.split("_");Z=En.length>=2&&En[1]=="type"?Z+(ae+"="+ce+"&"):Z+(ae+"=redacted&")}}}else Z=null;else Z=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+Z})}function gu(o,m,p,T,U,j,Z){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+j+" "+Z})}function Zn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vc(o,p)+(T?" "+T:"")})}function La(o,m){o.info(function(){return"TIMEOUT: "+m})}On.prototype.info=function(){};function Vc(o,m){if(!o.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(o=0;o<j.length;o++)if(Array.isArray(j[o])){var p=j[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return Gi(j)}catch{return m}}var Ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bs;function qa(){}w(qa,hu),qa.prototype.g=function(){return new XMLHttpRequest},Bs=new qa;function Ei(o){return encodeURIComponent(String(o))}function pu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function Mn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new za(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var pe={},Oe={};function Jn(o,m,p){o.M=1,o.A=ja(_e(m)),o.u=p,o.R=!0,wr(o,null)}function wr(o,m){o.F=Date.now(),$n(o),o.B=_e(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Ir(p.i,"t",T),o.C=0,p=o.j.L,o.h=new xn,o.g=Nu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Xe(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(zs[0]=U.toString()),U=zs);for(let j=0;j<U.length;j++){const Z=ie(p,U[j],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=o.J?N(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Yn(),Dc(o.i,o.v,o.B,o.l,o.S,o.u)}Mn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Ln(o)==3?m.j():this.Y(o)},Mn.prototype.Y=function(o){try{if(o==this.g)t:{const vt=Ln(this.g),ce=this.g.ya(),Bt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||vt!=4||ce==7||(ce==8||Bt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=Ic(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var j=T;break e}}j=null}if(o=j)Zn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,o);else{this.o=!1,this.m=3,ge(12),ln(this),yn(this);break t}}if(this.R){o=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=_u(this,p),ae==Oe){vt==4&&(this.m=4,ge(14),o=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==pe){this.m=4,ge(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Zn(this.i,this.l,ae,null),ti(this,ae);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||p.length!=0||this.h.h||(this.m=1,ge(16),o=!1),this.o=this.o&&o,!o)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),ln(this),yn(this);else if(p.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ws(Z),Z.P=!0,ge(11))}}else Zn(this.i,this.l,p,null),ti(this,p);vt==4&&ln(this),this.o&&!this.K&&(vt==4?Cu(this.j,this):(this.o=!1,$n(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),ln(this),yn(this)}}}catch{}finally{}};function Ic(o){if(!yu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=Ln(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return ln(o),yn(o),"";o.h.i=new d.TextDecoder}for(let j=0;j<T;j++)o.h.h=!0,p+=o.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function yu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function _u(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),o.C=T+p,m)))}Mn.prototype.cancel=function(){this.K=!0,ln(this)};function $n(o){o.T=Date.now()+o.H,Cr(o,o.H)}function Cr(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Xn(_(o.aa,o),m)}function Wn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Mn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(La(this.i,this.B),this.M!=2&&(Yn(),ge(17)),ln(this),this.m=2,yn(this)):Cr(this,this.T-o)};function yn(o){o.j.I==0||o.K||Cu(o.j,o)}function ln(o){Wn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Us(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ti(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ni(p.h,o))){if(!o.L&&ni(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)zr(p),$i(p);else break t;Ya(p),ge(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Xn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((o.L||p.g==o)&&zr(p),!b(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const ae=Bt[0];if(!(ae<=p.K))if(p.K=ae,Bt=Bt[1],p.I==2)if(Bt[0]=="c"){p.M=Bt[1],p.ba=Bt[2];const En=Bt[3];En!=null&&(p.ka=En,p.j.info("VER="+p.ka));const oi=Bt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const Bn=Bt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=o.g;if(qn){const Ka=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var j=T.h;j.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ps(j,j.h),j.h=null))}if(T.G){const Ur=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ur&&(T.wa=Ur,Ht(T.J,T.G,Ur))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var Z=o;if(T.na=Iu(T,T.L?T.ba:null,T.W),Z.L){Hs(T.h,Z);var vt=Z,ce=T.O;ce&&(vt.H=ce),vt.D&&(Wn(vt),$n(vt)),T.g=Z}else Ru(T);p.i.length>0&&li(p)}else Bt[0]!="stop"&&Bt[0]!="close"||ui(p,7);else p.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ui(p,7):Js(p):Bt[0]!="noop"&&p.l&&p.l.qa(Bt),p.A=0)}}Yn(4)}catch{}}var ye=class{constructor(o,m){this.g=o,this.map=m}};function qs(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function js(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ei(o){return o.h?1:o.g?o.g.size:0}function ni(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ps(o,m){o.g?o.g.add(m):o.h=m}function Hs(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}qs.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ks(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return K(o.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dr(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,j=null;T>=0?(U=o[p].substring(0,T),j=o[p].substring(T+1)):U=o[p],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function un(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof un?(this.l=o.l,Me(this,o.j),this.o=o.o,this.g=o.g,Fi(this,o.u),this.h=o.h,Gs(this,Su(o.i)),this.m=o.m):o&&(m=String(o).match(vu))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Fi(this,m[4]),this.h=ii(m[5]||"",!0),Gs(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}un.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Pa(m,Vr,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Pa(m,Vr,!0),"@"),o.push(Ei(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Pa(p,p.charAt(0)=="/"?Fs:Eu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Pa(p,Tu)),o.join("")},un.prototype.resolve=function(o){const m=_e(this);let p=!!o.j;p?Me(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Fi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let Z=0;Z<U.length;){const vt=U[Z++];vt=="."?T&&Z==U.length&&j.push(""):vt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&Z==U.length&&j.push("")):(j.push(vt),T=!0)}T=j.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Gs(m,Su(o.i)):p=!!o.m,p&&(m.m=o.m),m};function _e(o){return new un(o)}function Me(o,m,p){o.j=p?ii(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Fi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Gs(o,m,p){m instanceof Yi?(o.i=m,Nr(o.i,o.l)):(p||(m=Pa(m,Qi)),o.i=new Yi(m,o.l))}function Ht(o,m,p){o.i.set(m,p)}function ja(o){return Ht(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ii(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Pa(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,$e),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function $e(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Vr=/[#\/\?@]/g,Eu=/[#\?:]/g,Fs=/[#\?]/g,Qi=/[#\?@]/g,Tu=/#/g;function Yi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function We(o){o.g||(o.g=new Map,o.h=0,o.i&&Dr(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Yi.prototype,s.add=function(o,m){We(this),this.i=null,o=Ki(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Au(o,m){We(o),m=Ki(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Qs(o,m){return We(o),m=Ki(o,m),o.g.has(m)}s.forEach=function(o,m){We(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Ys(o,m){We(o);let p=[];if(typeof m=="string")Qs(o,m)&&(p=p.concat(o.g.get(Ki(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}s.set=function(o,m){return We(this),this.i=null,o=Ki(this,o),Qs(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=Ys(this,o),o.length>0?String(o[0]):m):m};function Ir(o,m,p){Au(o,m),p.length>0&&(o.i=null,o.g.set(Ki(o,m),K(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ei(p);p=Ys(this,p);for(let j=0;j<p.length;j++){let Z=U;p[j]!==""&&(Z+="="+Ei(p[j])),o.push(Z)}}return this.i=o.join("&")};function Su(o){const m=new Yi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Ki(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Nr(o,m){m&&!o.j&&(We(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(Au(this,T),Ir(this,U,p))},o)),o.j=m}function zn(o,m){const p=new On;if(d.Image){const T=new Image;T.onload=A(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=A(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(_n,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Ks(o,m){const p=new On,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Xi(){this.g=new cu}function ai(o){this.i=o.Sb||null,this.h=o.ab||!1}w(ai,hu),ai.prototype.g=function(){return new Ha(this.i,this.h)};function Ha(o,m){me.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ha,me),s=Ha.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Un(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},s.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Or(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Or(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}s.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Zi(this):Un(this),this.readyState==3&&Or(this)}},s.Oa=function(o){this.g&&(this.response=this.responseText=o,Zi(this))},s.Na=function(o){this.g&&(this.response=o,Zi(this))},s.ga=function(){this.g&&Zi(this)};function Zi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Un(o)}s.setRequestHeader=function(o,m){this.A.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Un(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function vn(o){let m="";return xt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function ka(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=vn(p),typeof o=="string"?p!=null&&Ei(p):Ht(o,m,p))}function Ft(o){me.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ft,me);var ri=/^https?$/i,Xs=["POST","PUT"];s=Ft.prototype,s.Fa=function(o){this.H=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bs.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){Ga(this,j);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Xs,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of p)this.g.setRequestHeader(j,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(j){Ga(this,j)}};function Ga(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Zs(o),Ti(o)}function Zs(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),Ti(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Ft.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Fa(this):this.Xa())},s.Xa=function(){Fa(this)};function Fa(o){if(o.h&&typeof h<"u"){if(o.v&&Ln(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),Ln(o)==4){o.h=!1;try{const j=o.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=j===0){let Z=String(o.D).match(vu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!ri.test(Z?Z.toLowerCase():"")}p=T}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var U=Ln(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",Zs(o)}}finally{Ti(o)}}}}function Ti(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ln(o){return o.g?o.g.readyState:0}s.ca=function(){try{return Ln(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Cc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(o){const m={};o=(o.g&&Ln(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(b(o[T]))continue;var p=pu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[U]||[];m[U]=j,j.push(p)}Pt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ji(o){this.za=0,this.i=[],this.j=new On,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=si("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=si("baseRetryDelayMs",5e3,o),this.Za=si("retryDelaySeedMs",1e4,o),this.Ta=si("forwardChannelMaxRetries",2,o),this.va=si("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new qs(o&&o.concurrentRequestLimit),this.Ba=new Xi,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ji.prototype,s.ka=8,s.I=1,s.connect=function(o,m,p,T){ge(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),li(this)};function Js(o){if(Mr(o),o.I==3){var m=o.V++,p=_e(o.J);if(Ht(p,"SID",o.M),Ht(p,"RID",m),Ht(p,"TYPE","terminate"),Qa(o,p),m=new Mn(o,o.j,m),m.M=2,m.A=ja(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}Vu(o)}function $i(o){o.g&&(Ws(o),o.g.cancel(),o.g=null)}function Mr(o){$i(o),o.v&&(d.clearTimeout(o.v),o.v=null),zr(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function li(o){if(!js(o.h)&&!o.m){o.m=!0;var m=o.Ea;ee||S(),Lt||(ee(),Lt=!0),D.add(m,o),o.D=0}}function xr(o,m){return ei(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Xn(_(o.Ea,o,m),Du(o,o.D)),o.D++,!0)}s.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new Mn(this,this.j,o);let j=this.o;if(this.U&&(j?(j=N(j),W(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bu(this,U,m),p=_e(this.J),Ht(p,"RID",o),Ht(p,"CVER",22),this.G&&Ht(p,"X-HTTP-Session-Id",this.G),Qa(this,p),j&&(this.R?m="headers="+Ei(vn(j))+"&"+m:this.u&&ka(p,this.u,j)),Ps(this.h,U),this.Ra&&Ht(p,"TYPE","init"),this.S?(Ht(p,"$req",m),Ht(p,"SID","null"),U.U=!0,Jn(U,p,null)):Jn(U,p,m),this.I=2}}else this.I==3&&(o?$s(this,o):this.i.length==0||js(this.h)||$s(this))};function $s(o,m){var p;m?p=m.l:p=o.V++;const T=_e(o.J);Ht(T,"SID",o.M),Ht(T,"RID",p),Ht(T,"AID",o.K),Qa(o,T),o.u&&o.o&&ka(T,o.u,o.o),p=new Mn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=bu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ps(o.h,p),Jn(p,T,m)}function Qa(o,m){o.H&&xt(o.H,function(p,T){Ht(m,T,p)}),o.l&&xt({},function(p,T){Ht(m,T,p)})}function bu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let vt=-1;for(;;){const ce=["count="+p];vt==-1?p>0?(vt=U[0].g,ce.push("ofs="+vt)):vt=0:ce.push("ofs="+vt);let Bt=!0;for(let ae=0;ae<p;ae++){var j=U[ae].g;const En=U[ae].map;if(j-=vt,j<0)vt=Math.max(0,U[ae].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var Z=En instanceof Map?En:Object.entries(En);for(const[oi,Bn]of Z){let qn=Bn;y(Bn)&&(qn=Gi(Bn)),ce.push(j+oi+"="+encodeURIComponent(qn))}}catch(oi){throw ce.push(j+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(En)}}if(Bt){Z=ce.join("&");break t}}Z=void 0}return o=o.i.splice(0,p),m.G=o,Z}function Ru(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;ee||S(),Lt||(ee(),Lt=!0),D.add(m,o),o.A=0}}function Ya(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Xn(_(o.Da,o),Du(o,o.A)),o.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Xn(_(this.Wa,this),o)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),$i(this),wu(this))};function Ws(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function wu(o){o.g=new Mn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=_e(o.na);Ht(m,"RID","rpc"),Ht(m,"SID",o.M),Ht(m,"AID",o.K),Ht(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ht(m,"TO",o.ia),Ht(m,"TYPE","xmlhttp"),Qa(o,m),o.u&&o.o&&ka(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=ja(_e(m)),p.u=null,p.R=!0,wr(p,o)}s.Va=function(){this.C!=null&&(this.C=null,$i(this),Ya(this),ge(19))};function zr(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Cu(o,m){var p=null;if(o.g==m){zr(o),Ws(o),o.g=null;var T=2}else if(ni(o.h,m))p=m.G,Hs(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=Rr(),De(T,new Kn(T,p)),li(o)}else Ru(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&xr(o,m)||T==2&&Ya(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:ui(o,5);break;case 4:ui(o,10);break;case 3:ui(o,6);break;default:ui(o,2)}}}function Du(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ui(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ja(T),U?zn(T.toString(),p):Ks(T.toString(),p)}else ge(2);o.I=0,o.l&&o.l.pa(m),Vu(o),Mr(o)}s.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Vu(o){if(o.I=0,o.ja=[],o.l){const m=ks(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ja,m),J(o.ja,o.i),o.h.i.length=0,K(o.i),o.i.length=0),o.l.oa()}}function Iu(o,m,p){var T=p instanceof un?_e(p):new un(p);if(T.g!="")m&&(T.g=m+"."+T.g),Fi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new un(null);T&&Me(j,T),m&&(j.g=m),U&&Fi(j,U),p&&(j.h=p),T=j}return p=o.G,m=o.wa,p&&m&&Ht(T,p,m),Ht(T,"VER",o.ka),Qa(o,T),T}function Nu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Ft(new ai({ab:p})):new Ft(o.ma),m.Fa(o.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}s=Ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Wi(){}Wi.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){me.call(this),this.g=new Ji(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!b(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Si(this)}w(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Js(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Gi(o),o=p);m.i.push(new ye(m.Ya++,o)),m.I==3&&li(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Ze.Z.N.call(this)};function Mu(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}w(Mu,Ue);function xu(){pn.call(this),this.status=1}w(xu,pn);function Si(o){this.g=o}w(Si,Ou),Si.prototype.ra=function(){De(this.g,"a")},Si.prototype.qa=function(o){De(this.g,new Mu(o))},Si.prototype.pa=function(o){De(this.g,new xu)},Si.prototype.oa=function(){De(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,$_=function(){return new Wi},J_=function(){return Rr()},Z_=oe,Ff={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,Go=Ba,Ls.COMPLETE="complete",X_=Ls,fu.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",me.prototype.listen=me.prototype.J,ql=fu,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,K_=Ft}).apply(typeof qo<"u"?qo:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="12.8.0";function $1(s){Cs=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new P_("@firebase/firestore");function fs(){return gr.logLevel}function it(s,...e){if(gr.logLevel<=Mt.DEBUG){const i=e.map(fd);gr.debug(`Firestore (${Cs}): ${s}`,...i)}}function Pi(s,...e){if(gr.logLevel<=Mt.ERROR){const i=e.map(fd);gr.error(`Firestore (${Cs}): ${s}`,...i)}}function Es(s,...e){if(gr.logLevel<=Mt.WARN){const i=e.map(fd);gr.warn(`Firestore (${Cs}): ${s}`,...i)}}function fd(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,W_(s,r,i)}function W_(s,e,i){let r=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Pi(r),new Error(r)}function jt(s,e,i,r){let u="Unexpected state";typeof i=="string"?u=i:r=i,s||W_(e,u,r)}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends ws{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class tA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class eA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new fr,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new fr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new tv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class nA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class iA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new nA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,L1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=rA(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Dt(s,e){return s<e?-1:s>e?1:0}function Qf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const u=s.charAt(r),h=e.charAt(r);if(u!==h)return zf(u)===zf(h)?Dt(u,h):zf(u)?1:-1}return Dt(s.length,e.length)}const sA=55296,lA=57343;function zf(s){const e=s.charCodeAt(0);return e>=sA&&e<=lA}function Ts(s,e,i){return s.length===e.length&&s.every(((r,u)=>i(r,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="__name__";class mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&ht(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ht(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=mi.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const r=mi.isNumericId(e),u=mi.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?mi.extractNumericId(e).compare(mi.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class Jt extends mi{construct(e,i,r){return new Jt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((u=>u.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const uA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends mi{construct(e,i,r){return new ke(e,i,r)}static isValidIdentifier(e){return uA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zy}static keyField(){return new ke([zy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new nt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new nt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(r+=y,u++):(h(),u++)}if(h(),d)throw new nt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s,e,i){if(!i)throw new nt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function oA(s,e,i,r){if(e===!0&&r===!0)throw new nt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Uy(s){if(!ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ly(s){if(ut.isDocumentKey(s))throw new nt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ht(12329,{type:typeof s})}function Gl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new nt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new nt(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(s,e){const i={typeString:s};return e&&(i.value=e),i}function au(s,e){if(!nv(s))throw new nt(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const u=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(u&&typeof d!==u){i=`JSON field '${r}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new nt(Y.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-62135596800,qy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*qy);return new te(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<By)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qy}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-By;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Re("string",te._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new te(0,0))}static max(){return new mt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function cA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Ca(u,ut.empty(),e)}function hA(s){return new Ca(s.readTime,s.key,Jl)}class Ca{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ca(mt.min(),ut.empty(),Jl)}static max(){return new Ca(mt.max(),ut.empty(),Jl)}}function fA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==dA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let u=0,h=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++h,d&&h===u&&i()}),(v=>r(v)))})),d=!0,h===u&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((u=>u?X.resolve(u):r()));return i}static forEach(e,i){const r=[];return e.forEach(((u,h)=>{r.push(i.call(this,u,h))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,u)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new X(((r,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):r()};h()}))}}function gA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=-1;function mc(s){return s==null}function tc(s){return s===0&&1/s==-1/0}function pA(s){return typeof s=="number"&&Number.isInteger(s)&&!tc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="";function yA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=jy(e)),e=_A(s.get(i),e);return jy(e)}function _A(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case iv:i+="";break;default:i+=h}}return i}function jy(s){return s+iv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function yr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function av(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jo(this.root,e,this.comparator,!0)}}class jo{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=u??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new He(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ht(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(e,i,r,u,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new kn([])}unionWith(e){let i=new Ne(ke.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new rv("Invalid base64 string: "+h):h}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const vA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(s){if(jt(!!s,39018),typeof s=="string"){let e=0;const i=vA.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Va(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="server_timestamp",lv="__type__",uv="__previous_value__",ov="__local_write_time__";function gd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[lv])==null?void 0:r.stringValue)===sv}function gc(s){const e=s.mapValue.fields[uv];return gd(e)?gc(e):e}function $l(s){const e=Da(s.mapValue.fields[ov].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i,r,u,h,d,y,v,_,A,w){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=w}}const ec="(default)";class Wl{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}function TA(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new nt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="__type__",AA="__max__",Po={mapValue:{}},hv="__vector__",nc="value";function Ia(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?gd(s)?4:bA(s)?9007199254740991:SA(s)?10:11:ht(28295,{value:s})}function vi(s,e){if(s===e)return!0;const i=Ia(s);if(i!==Ia(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return $l(s).isEqual($l(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Da(u.timestampValue),y=Da(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(u,h){return Va(u.bytesValue).isEqual(Va(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(u,h){return de(u.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return de(u.integerValue)===de(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=de(u.doubleValue),y=de(h.doubleValue);return d===y?tc(d)===tc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return Ts(s.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},y=h.mapValue.fields||{};if(Py(d)!==Py(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!vi(d[v],y[v])))return!1;return!0})(s,e);default:return ht(52216,{left:s})}}function tu(s,e){return(s.values||[]).find((i=>vi(i,e)))!==void 0}function As(s,e){if(s===e)return 0;const i=Ia(s),r=Ia(e);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return ky(s.timestampValue,e.timestampValue);case 4:return ky($l(s),$l(e));case 5:return Qf(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=Va(h),v=Va(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Dt(y[_],v[_]);if(A!==0)return A}return Dt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Dt(de(h.latitude),de(d.latitude));return y!==0?y:Dt(de(h.longitude),de(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Gy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var M,K,J,et;const y=h.fields||{},v=d.fields||{},_=(M=y[nc])==null?void 0:M.arrayValue,A=(K=v[nc])==null?void 0:K.arrayValue,w=Dt(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((et=A==null?void 0:A.values)==null?void 0:et.length)||0);return w!==0?w:Gy(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Po.mapValue&&d===Po.mapValue)return 0;if(h===Po.mapValue)return 1;if(d===Po.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const M=Qf(v[w],A[w]);if(M!==0)return M;const K=As(y[v[w]],_[A[w]]);if(K!==0)return K}return Dt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw ht(23264,{he:i})}}function ky(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Da(s),r=Da(e),u=Dt(i.seconds,r.seconds);return u!==0?u:Dt(i.nanos,r.nanos)}function Gy(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=As(i[u],r[u]);if(h)return h}return Dt(i.length,r.length)}function Ss(s){return Yf(s)}function Yf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Da(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Va(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Yf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Yf(i.fields[d])}`;return u+"}"})(s.mapValue):ht(61005,{value:s})}function Fo(s){switch(Ia(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(s);return e?16+Fo(e):16;case 5:return 2*s.stringValue.length;case 6:return Va(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,h)=>u+Fo(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let u=0;return yr(r.fields,((h,d)=>{u+=h.length+Fo(d)})),u})(s.mapValue);default:throw ht(13486,{value:s})}}function Fy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Kf(s){return!!s&&"integerValue"in s}function pd(s){return!!s&&"arrayValue"in s}function Qy(s){return!!s&&"nullValue"in s}function Yy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qo(s){return!!s&&"mapValue"in s}function SA(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[cv])==null?void 0:r.stringValue)===hv}function Fl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return yr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Fl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Fl(s.arrayValue.values[i]);return e}return{...s}}function bA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===AA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Qo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(i)}setAll(e){let i=ke.emptyPath(),r={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,u),r={},u=[],i=y.popLast()}d?r[y.lastSegment()]=Fl(d):u.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Qo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Qo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){yr(i,((u,h)=>e[u]=h));for(const u of r)delete e[u]}clone(){return new Vn(Fl(this.value))}}function fv(s){const e=[];return yr(s.fields,((i,r)=>{const u=new ke([i]);if(Qo(r)){const h=fv(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,r,u,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,mt.min(),mt.min(),mt.min(),Vn.empty(),0)}static newFoundDocument(e,i,r,u){return new Ke(e,1,i,mt.min(),r,u,0)}static newNoDocument(e,i){return new Ke(e,2,i,mt.min(),mt.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,mt.min(),mt.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.position=e,this.inclusive=i}}function Ky(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),i.key):r=As(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!vi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,i="asc"){this.field=e,this.dir=i}}function RA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{}class be extends dv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new CA(e,i,r):i==="array-contains"?new IA(e,r):i==="in"?new NA(e,r):i==="not-in"?new OA(e,r):i==="array-contains-any"?new MA(e,r):new be(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new DA(e,r):new VA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(As(i,this.value)):i!==null&&Ia(this.value)===Ia(i)&&this.matchesComparison(As(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends dv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Fn(e,i)}matches(e){return mv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mv(s){return s.op==="and"}function gv(s){return wA(s)&&mv(s)}function wA(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function Xf(s){if(s instanceof be)return s.field.canonicalString()+s.op.toString()+Ss(s.value);if(gv(s))return s.filters.map((e=>Xf(e))).join(",");{const e=s.filters.map((i=>Xf(i))).join(",");return`${s.op}(${e})`}}function pv(s,e){return s instanceof be?(function(r,u){return u instanceof be&&r.op===u.op&&r.field.isEqual(u.field)&&vi(r.value,u.value)})(s,e):s instanceof Fn?(function(r,u){return u instanceof Fn&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((h,d,y)=>h&&pv(d,u.filters[y])),!0):!1})(s,e):void ht(19439)}function yv(s){return s instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ss(i.value)}`})(s):s instanceof Fn?(function(i){return i.op.toString()+" {"+i.getFilters().map(yv).join(" ,")+"}"})(s):"Filter"}class CA extends be{constructor(e,i,r){super(e,i,r),this.key=ut.fromName(r.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class DA extends be{constructor(e,i){super(e,"in",i),this.keys=_v("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class VA extends be{constructor(e,i){super(e,"not-in",i),this.keys=_v("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function _v(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ut.fromName(r.referenceValue)))}class IA extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return pd(i)&&tu(i.arrayValue,this.value)}}class NA extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&tu(this.value.arrayValue,i)}}class OA extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!tu(this.value.arrayValue,i)}}class MA extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!pd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>tu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i=null,r=[],u=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Zy(s,e=null,i=[],r=[],u=null,h=null,d=null){return new xA(s,e,i,r,u,h,d)}function yd(s){const e=pt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Xf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ss(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ss(r))).join(",")),e.Te=i}return e.Te}function _d(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!RA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!pv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Xy(s.startAt,e.startAt)&&Xy(s.endAt,e.endAt)}function Zf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,i=null,r=[],u=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zA(s,e,i,r,u,h,d,y){return new Is(s,e,i,r,u,h,d,y)}function vd(s){return new Is(s)}function Jy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function UA(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function vv(s){return s.collectionGroup!==null}function Ql(s){const e=pt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ne(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new eu(h,r))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new eu(ke.keyField(),r))}return e.Ie}function pi(s){const e=pt(s);return e.Ee||(e.Ee=LA(e,Ql(s))),e.Ee}function LA(s,e){if(s.limitType==="F")return Zy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new eu(u.field,h)}));const i=s.endAt?new ic(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ic(s.startAt.position,s.startAt.inclusive):null;return Zy(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Jf(s,e){const i=s.filters.concat([e]);return new Is(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function BA(s,e){const i=s.explicitOrderBy.concat([e]);return new Is(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function $f(s,e,i){return new Is(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function pc(s,e){return _d(pi(s),pi(e))&&s.limitType===e.limitType}function Ev(s){return`${yd(pi(s))}|lt:${s.limitType}`}function ds(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((u=>yv(u))).join(", ")}]`),mc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((u=>Ss(u))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((u=>Ss(u))).join(",")),`Target(${r})`})(pi(s))}; limitType=${s.limitType})`}function yc(s,e){return e.isFoundDocument()&&(function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ut.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,u){for(const h of Ql(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0})(s,e)&&(function(r,u){return!(r.startAt&&!(function(d,y,v){const _=Ky(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Ql(r),u)||r.endAt&&!(function(d,y,v){const _=Ky(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Ql(r),u))})(s,e)}function qA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Tv(s){return(e,i)=>{let r=!1;for(const u of Ql(s)){const h=jA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function jA(s,e,i){const r=s.field.isKeyField()?ut.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?As(v,_):ht(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ht(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,((i,r)=>{for(const[u,h]of r)e(u,h)}))}isEmpty(){return av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new se(ut.comparator);function Hi(){return PA}const Av=new se(ut.comparator);function jl(...s){let e=Av;for(const i of s)e=e.insert(i.key,i);return e}function Sv(s){let e=Av;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function hr(){return Yl()}function bv(){return Yl()}function Yl(){return new _r((s=>s.toString()),((s,e)=>s.isEqual(e)))}const HA=new se(ut.comparator),kA=new Ne(ut.comparator);function Vt(...s){let e=kA;for(const i of s)e=e.add(i);return e}const GA=new Ne(Dt);function FA(){return GA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function Rv(s){return{integerValue:""+s}}function QA(s,e){return pA(e)?Rv(e):Ed(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function YA(s,e,i){return s instanceof ac?(function(u,h){const d={fields:{[lv]:{stringValue:sv},[ov]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&gd(h)&&(h=gc(h)),h&&(d.fields[uv]=h),{mapValue:d}})(i,e):s instanceof nu?Cv(s,e):s instanceof iu?Dv(s,e):(function(u,h){const d=wv(u,h),y=$y(d)+$y(u.Ae);return Kf(d)&&Kf(u.Ae)?Rv(y):Ed(u.serializer,y)})(s,e)}function KA(s,e,i){return s instanceof nu?Cv(s,e):s instanceof iu?Dv(s,e):i}function wv(s,e){return s instanceof rc?(function(r){return Kf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class ac extends _c{}class nu extends _c{constructor(e){super(),this.elements=e}}function Cv(s,e){const i=Vv(e);for(const r of s.elements)i.some((u=>vi(u,r)))||i.push(r);return{arrayValue:{values:i}}}class iu extends _c{constructor(e){super(),this.elements=e}}function Dv(s,e){let i=Vv(e);for(const r of s.elements)i=i.filter((u=>!vi(u,r)));return{arrayValue:{values:i}}}class rc extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function $y(s){return de(s.integerValue||s.doubleValue)}function Vv(s){return pd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function XA(s,e){return s.field.isEqual(e.field)&&(function(r,u){return r instanceof nu&&u instanceof nu||r instanceof iu&&u instanceof iu?Ts(r.elements,u.elements,vi):r instanceof rc&&u instanceof rc?vi(r.Ae,u.Ae):r instanceof ac&&u instanceof ac})(s.transform,e.transform)}class ZA{constructor(e,i){this.version=e,this.transformResults=i}}class qi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new qi}static exists(e){return new qi(void 0,e)}static updateTime(e){return new qi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class vc{}function Iv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Ov(s.key,qi.none()):new ru(s.key,s.data,qi.none());{const i=s.data,r=Vn.empty();let u=new Ne(ke.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new vr(s.key,r,new kn(u.toArray()),qi.none())}}function JA(s,e,i){s instanceof ru?(function(u,h,d){const y=u.value.clone(),v=t_(u.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof vr?(function(u,h,d){if(!Yo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const y=t_(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Nv(u)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Kl(s,e,i,r){return s instanceof ru?(function(h,d,y,v){if(!Yo(h.precondition,d))return y;const _=h.value.clone(),A=e_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof vr?(function(h,d,y,v){if(!Yo(h.precondition,d))return y;const _=e_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Nv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(s,e,i,r):(function(h,d,y){return Yo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function $A(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=wv(r.transform,u||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(r.field,h))}return i||null}function Wy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&Ts(r,u,((h,d)=>XA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends vc{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class vr extends vc{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Nv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function t_(s,e,i){const r=new Map;jt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,y=e.data.field(h.field);r.set(h.field,KA(d,y,i[u]))}return r}function e_(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,YA(h,d,e))}return r}class Ov extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&JA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=bv();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(u.key)?null:y;const v=Iv(d,y);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(mt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,((i,r)=>Wy(i,r)))&&Ts(this.baseMutations,e.baseMutations,((i,r)=>Wy(i,r)))}}class Td{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let u=(function(){return HA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new Td(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Ot;function iS(s){switch(s){case Y.OK:return ht(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ht(15467,{code:s})}}function Mv(s){if(s===void 0)return Pi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Se.OK:return Y.OK;case Se.CANCELLED:return Y.CANCELLED;case Se.UNKNOWN:return Y.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Y.INTERNAL;case Se.UNAVAILABLE:return Y.UNAVAILABLE;case Se.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Se.NOT_FOUND:return Y.NOT_FOUND;case Se.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Se.ABORTED:return Y.ABORTED;case Se.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Se.DATA_LOSS:return Y.DATA_LOSS;default:return ht(39323,{code:s})}}(Ot=Se||(Se={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Ra([4294967295,4294967295],0);function n_(s){const e=aS().encode(s),i=new Y_;return i.update(e),new Uint8Array(i.digest())}function i_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ra([i,r],0),new Ra([u,h],0)]}class Ad{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Pl(`Invalid padding: ${i}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ra.fromNumber(this.ge)}ye(e,i,r){let u=e.add(i.multiply(Ra.fromNumber(r)));return u.compare(rS)===1&&(u=new Ra([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=n_(e),[r,u]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ad(h,u,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=n_(e),[r,u]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Ec(mt.min(),u,new se(Dt),Hi(),Vt())}}class su{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new su(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i,r,u){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=u}}class xv{constructor(e,i){this.targetId=e,this.Ce=i}}class zv{constructor(e,i,r=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class a_{constructor(){this.ve=0,this.Fe=r_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:ht(38017,{changeType:h})}})),new su(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=r_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.He=Ho(),this.Je=Ho(),this.Ze=new se(Dt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ht(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,r=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Zf(h))if(r===0){const d=new ut(h.path);this.et(i,d,Ke.newNoDocument(d,mt.min()))}else jt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,y;try{d=Va(r).toUint8Array()}catch(v){if(v instanceof rv)return Es("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Ad(d,u,h)}catch(v){return Es(v instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let u=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Zf(y.target)){const v=new ut(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Vt();this.Je.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new Ec(e,i,this.Ze,this.je,r);return this.je=Hi(),this.He=Ho(),this.Je=Ho(),this.Ze=new se(Dt),u}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.qe(i,1):u.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new a_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ne(Dt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ne(Dt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Ho(){return new se(ut.comparator)}function r_(){return new se(ut.comparator)}const lS={asc:"ASCENDING",desc:"DESCENDING"},uS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oS={and:"AND",or:"OR"};class cS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Wf(s,e){return s.useProto3Json||mc(e)?e:{value:e}}function sc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function hS(s,e){return sc(s,e.toTimestamp())}function yi(s){return jt(!!s,49232),mt.fromTimestamp((function(i){const r=Da(i);return new te(r.seconds,r.nanos)})(s))}function Sd(s,e){return td(s,e).canonicalString()}function td(s,e){const i=(function(u){return new Jt(["projects",u.projectId,"databases",u.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Lv(s){const e=Jt.fromString(s);return jt(Hv(e),10190,{key:e.toString()}),e}function ed(s,e){return Sd(s.databaseId,e.path)}function Uf(s,e){const i=Lv(e);if(i.get(1)!==s.databaseId.projectId)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(qv(i))}function Bv(s,e){return Sd(s.databaseId,e)}function fS(s){const e=Lv(s);return e.length===4?Jt.emptyPath():qv(e)}function nd(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qv(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function s_(s,e,i){return{name:ed(s,e),fields:i.value.mapValue.fields}}function dS(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ht(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Y.UNKNOWN:Mv(_.code);return new nt(A,_.message||"")})(d);i=new zv(r,u,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Uf(s,r.document.name),h=yi(r.document.updateTime),d=r.document.createTime?yi(r.document.createTime):mt.min(),y=new Vn({mapValue:{fields:r.document.fields}}),v=Ke.newFoundDocument(u,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Ko(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Uf(s,r.document),h=r.readTime?yi(r.readTime):mt.min(),d=Ke.newNoDocument(u,h),y=r.removedTargetIds||[];i=new Ko([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Uf(s,r.document),h=r.removedTargetIds||[];i=new Ko([],h,u,null)}else{if(!("filter"in e))return ht(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new nS(u,h),y=r.targetId;i=new xv(y,d)}}return i}function mS(s,e){let i;if(e instanceof ru)i={update:s_(s,e.key,e.value)};else if(e instanceof Ov)i={delete:ed(s,e.key)};else if(e instanceof vr)i={update:s_(s,e.key,e.data),updateMask:SS(e.fieldMask)};else{if(!(e instanceof WA))return ht(16599,{dt:e.type});i={verify:ed(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof ac)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof nu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ht(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:hS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ht(27497)})(s,e.precondition)),i}function gS(s,e){return s&&s.length>0?(jt(e!==void 0,14353),s.map((i=>(function(u,h){let d=u.updateTime?yi(u.updateTime):yi(h);return d.isEqual(mt.min())&&(d=yi(h)),new ZA(d,u.transformResults||[])})(i,e)))):[]}function pS(s,e){return{documents:[Bv(s,e.path)]}}function yS(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Bv(s,u);const h=(function(_){if(_.length!==0)return Pv(Fn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:ms(M.field),direction:ES(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Wf(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function _S(s){let e=fS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){jt(r===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(w){const M=jv(w);return M instanceof Fn&&gv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(J){return new eu(gs(J.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,mc(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,K=w.values||[];return new ic(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,K=w.values||[];return new ic(K,M)})(i.endAt)),zA(e,u,d,h,y,"F",v,_)}function vS(s,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function jv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=gs(i.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=gs(i.unaryFilter.field);return be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return be.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(s):s.fieldFilter!==void 0?(function(i){return be.create(gs(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Fn.create(i.compositeFilter.filters.map((r=>jv(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(i.compositeFilter.op))})(s):ht(30097,{filter:s})}function ES(s){return lS[s]}function TS(s){return uS[s]}function AS(s){return oS[s]}function ms(s){return{fieldPath:s.canonicalString()}}function gs(s){return ke.fromServerFormat(s.fieldPath)}function Pv(s){return s instanceof be?(function(i){if(i.op==="=="){if(Yy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(Qy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Yy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(Qy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:TS(i.op),value:i.value}}})(s):s instanceof Fn?(function(i){const r=i.getFilters().map((u=>Pv(u)));return r.length===1?r[0]:{compositeFilter:{op:AS(i.op),filters:r}}})(s):ht(54877,{filter:s})}function SS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Hv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function kv(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i,r,u,h=mt.min(),d=mt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.yt=e}}function RS(s){const e=_S({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Sn=new CS}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ca.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class CS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new Ne(Jt.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new Ne(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gv=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(Gv,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bs(0)}static ar(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",DS=1048576;function o_([s,e],[i,r]){const u=Dt(s,i);return u===0?Dt(e,r):u}class VS{constructor(e){this.Pr=e,this.buffer=new Ne(o_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();o_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class IS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){it(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Vs(i)?it(u_,"Ignoring IndexedDB error during garbage collection: ",i):await Ds(i)}await this.Ar(3e5)}))}}class NS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(dc.ce);const r=new VS(i);return this.Vr.forEachTarget(e,(u=>r.Er(u.sequenceNumber))).next((()=>this.Vr.mr(e,(u=>r.Er(u))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(l_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,u,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),u=this.params.maximumSequenceNumbersToCollect):u=w,d=Date.now(),this.nthSequenceNumber(e,u)))).next((w=>(r=w,y=Date.now(),this.removeTargets(e,r,i)))).next((w=>(h=w,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),fs()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:w}))))}}function OS(s,e){return new NS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.changes=new _r((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(r=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(r!==null&&Kl(r.mutation,u,kn.empty(),te.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const u=hr();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,r).next((h=>{let d=jl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=hr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const u=[];return r.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,u){let h=Hi();const d=Yl(),y=(function(){return Yl()})();return i.forEach(((v,_)=>{const A=r.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof vr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Kl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new xS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=Yl();let u=new se(((d,y)=>d-y)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||kn.empty();A=y.applyToLocalView(_,A),r.set(v,A);const w=(u.get(y.batchId)||Vt()).add(v);u=u.insert(y.batchId,w)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,w=bv();A.forEach((M=>{if(!h.has(M)){const K=Iv(i.get(M),r.get(M));K!==null&&w.set(M,K),h=h.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,u){return UA(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):vv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):X.resolve(hr());let y=Jl,v=h;return d.next((_=>X.forEach(_,((A,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:y,changes:Sv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((r=>{let u=jl();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next((y=>X.forEach(y,(v=>{const _=(function(w,M){return new Is(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,u).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=jl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Kl(A.mutation,_,kn.empty(),te.now()),yc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:yi(u.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(u){return{name:u.name,query:RS(u.bundledQuery),readTime:yi(u.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.overlays=new se(ut.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=hr();return X.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&r.set(u,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((u,h)=>{this.bt(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Lr.get(r);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const u=hr(),h=i.length+1,d=new ut(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new se(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=hr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=hr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return X.resolve(y)}bt(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Lr.get(u.largestBatchId).delete(r.key);this.Lr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new eS(i,r));let h=this.Lr.get(i);h===void 0&&(h=Vt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.kr=new Ne(ze.Kr),this.qr=new Ne(ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new ze(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new ze(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ut(new Jt([])),r=new ze(i,e),u=new ze(i,e+1),h=[];return this.qr.forEachInRange([r,u],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ut(new Jt([])),r=new ze(i,e),u=new ze(i,e+1);let h=Vt();return this.qr.forEachInRange([r,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ut.comparator(e.key,i.key)||Dt(e.Hr,i.Hr)}static Ur(e,i){return Dt(e.Hr,i.Hr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ne(ze.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tS(h,i,r,u);this.mutationQueue.push(d);for(const y of u)this.Jr=this.Jr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Xr(r),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?md:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,u],(d=>{const y=this.Zr(d.Hr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ne(Dt);return i.forEach((u=>{const h=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(y=>{r=r.add(y.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ut.isDocumentKey(h)||(h=h.child(""));const d=new ze(new ut(h),0);let y=new Ne(Dt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((r=>{const u=this.Zr(r);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){jt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(i.mutations,(u=>{const h=new ze(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new ze(i,0),u=this.Jr.firstAfterOrEqual(r);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.ti=e,this.docs=(function(){return new se(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let r=Hi();return i.forEach((u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Ke.newInvalidDocument(u))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Hi();const d=i.path,y=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||fA(hA(A),r)<=0||(u.has(A.key)||yc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,r,u){ht(9500)}ni(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new PS(this)}getSize(e){return X.resolve(this.size)}}class PS extends MS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?i.push(this.Mr.addEntry(e,u)):this.Mr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.persistence=e,this.ri=new _r((i=>yd(i)),_d),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.ii=0,this.si=new bd,this.targetCount=0,this.oi=bs._r()}forEachTarget(e,i){return this.ri.forEach(((r,u)=>i(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new bs(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),X.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i){this._i={},this.overlays={},this.ai=new dc(0),this.ui=!1,this.ui=!0,this.ci=new BS,this.referenceDelegate=e(this),this.li=new HS(this),this.indexManager=new wS,this.remoteDocumentCache=(function(u){return new jS(u)})((r=>this.referenceDelegate.hi(r))),this.serializer=new bS(i),this.Pi=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new LS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new qS(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new kS(this.ai.next());return this.referenceDelegate.Ti(),r(u).next((h=>this.referenceDelegate.Ii(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ei(e,i){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class kS extends mA{constructor(e){super(),this.currentSequenceNumber=e}}class Rd{constructor(e){this.persistence=e,this.Ri=new bd,this.Ai=null}static Vi(e){return new Rd(e)}get di(){if(this.Ai)return this.Ai;throw ht(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((u=>this.di.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const u=ut.fromPath(r);return this.mi(e,u).next((h=>{h||i.removeEntry(u,mt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.fi=new _r((r=>yA(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=OS(this,i)}static Vi(e,i){return new lc(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((u=>r+u))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((r,u)=>this.wr(e,r,u).next((h=>h?X.resolve():i(u)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(r++,h.removeEntry(d,mt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fo(e.data.value)),i}wr(e,i,r){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.fi.get(i);return X.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=u}static Es(e,i){let r=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new wd(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xT()?8:gA(OT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,u,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new GS;return this.ys(e,i,d).next((y=>{if(h.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>h.result))}ws(e,i,r,u){return r.documentReadCount<this.Vs?(fs()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(fs()<=Mt.DEBUG&&it("QueryEngine","Query:",ds(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ds*u?(fs()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(i))):X.resolve())}gs(e,i){if(Jy(i))return X.resolve(null);let r=pi(i);return this.indexManager.getIndexType(e,r).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=$f(i,null,"F"),r=pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Vt(...h);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.bs(i,y);return this.Ss(i,_,d,v.readTime)?this.gs(e,$f(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,r,u){return Jy(i)||u.isEqual(mt.min())?X.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,u)?X.resolve(null):(fs()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ds(i)),this.Ds(e,d,i,cA(u,Jl)).next((y=>y)))}))}bs(e,i){let r=new Ne(Tv(e));return i.forEach(((u,h)=>{yc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ys(e,i,r){return fs()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ds(i)),this.fs.getDocumentsMatchingQuery(e,i,Ca.min(),r)}Ds(e,i,r,u){return this.fs.getDocumentsMatchingQuery(e,r,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="LocalStore",QS=3e8;class YS{constructor(e,i,r,u){this.persistence=e,this.Cs=i,this.serializer=u,this.vs=new se(Dt),this.Fs=new _r((h=>yd(h)),_d),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zS(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function KS(s,e,i,r){return new YS(s,e,i,r)}async function Qv(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next((h=>(u=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function XS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const u=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const w=_.batch,M=w.keys();let K=X.resolve();return M.forEach((J=>{K=K.next((()=>A.getEntry(v,J))).next((et=>{const tt=_.docVersions.get(J);jt(tt!==null,48541),et.version.compareTo(tt)<0&&(w.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(v,w)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,u)))}))}function Yv(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function ZS(s,e){const i=pt(s),r=e.snapshotVersion;let u=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});u=i.vs;const y=[];e.targetChanges.forEach(((A,w)=>{const M=u.get(w);if(!M)return;y.push(i.li.removeMatchingKeys(h,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,w))));let K=M.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(Ge.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),u=u.insert(w,K),(function(et,tt,yt){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=QS?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(M,K,A)&&y.push(i.li.updateTargetData(h,K))}));let v=Hi(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(JS(h,d,e.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!r.isEqual(mt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((w=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=u,h)))}function JS(s,e,i){let r=Vt(),u=Vt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Hi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(mt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Cd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:u}}))}function $S(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=md),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function WS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let u;return i.li.getTargetData(r,e).next((h=>h?(u=h,X.resolve(u)):i.li.allocateTargetId(r).next((d=>(u=new Aa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,u).next((()=>u)))))))})).then((r=>{const u=i.vs.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function id(s,e,i){const r=pt(s),u=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Vs(d))throw d;it(Cd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(u.target)}function c_(s,e,i){const r=pt(s);let u=mt.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const w=pt(v),M=w.Fs.get(A);return M!==void 0?X.resolve(w.vs.get(M)):w.li.getTargetData(_,A)})(r,d,pi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:Vt()))).next((y=>(t2(r,qA(e),y),{documents:y,ks:h})))))}function t2(s,e,i){let r=s.Ms.get(e)||mt.min();i.forEach(((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Ms.set(e,r)}class h_{constructor(){this.activeTargetIds=FA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e2{constructor(){this.vo=new h_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new h_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="ConnectivityMonitor";class d_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){it(f_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){it(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=null;function ad(){return ko===null?ko=(function(){return 268435456+Math.round(2147483648*Math.random())})():ko++,"0x"+ko.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",i2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class a2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${u}`,this.$o=this.databaseId.database===ec?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Wo(e,i,r,u,h){const d=ad(),y=this.Qo(e,i.toUriEncodedString());it(Lf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,u,h);const{host:_}=new URL(y),A=cd(_);return this.zo(e,y,v,r,A).then((w=>(it(Lf,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Es(Lf,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",r),w}))}jo(e,i,r,u,h,d){return this.Wo(e,i,r,u,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),r&&r.headers.forEach(((u,h)=>e[h]=u))}Qo(e,i){const r=i2[e];let u=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(u=`${u}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),u}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection",Bl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(u){setTimeout((()=>{throw u}),0)}}))};class ys extends a2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ys.c_){const e=J_();Bl(e,Z_.STAT_EVENT,(i=>{i.stat===Ff.PROXY?it(Qe,"STAT_EVENT: detected buffering proxy"):i.stat===Ff.NOPROXY&&it(Qe,"STAT_EVENT: detected no buffering proxy")})),ys.c_=!0}}zo(e,i,r,u,h){const d=ad();return new Promise(((y,v)=>{const _=new K_;_.setWithCredentials(!0),_.listenOnce(X_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Go.NO_ERROR:const w=_.getResponseJson();it(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Go.TIMEOUT:it(Qe,`RPC '${e}' ${d} timed out`),v(new nt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:const M=_.getStatus();if(it(Qe,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const J=K==null?void 0:K.error;if(J&&J.status&&J.message){const et=(function(yt){const Tt=yt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Tt)>=0?Tt:Y.UNKNOWN})(J.status);v(new nt(et,J.message))}else v(new nt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new nt(Y.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Qe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Qe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const u=ad(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=h.join("");it(Qe,`Creating RPC '${e}' stream ${u}: ${_}`,y);const A=d.createWebChannel(_,y);this.I_(A);let w=!1,M=!1;const K=new r2({Ho:J=>{M?it(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(w||(it(Qe,`Opening RPC '${e}' stream ${u} transport.`),A.open(),w=!0),it(Qe,`RPC '${e}' stream ${u} sending:`,J),A.send(J))},Jo:()=>A.close()});return Bl(A,ql.EventType.OPEN,(()=>{M||(it(Qe,`RPC '${e}' stream ${u} transport opened.`),K.i_())})),Bl(A,ql.EventType.CLOSE,(()=>{M||(M=!0,it(Qe,`RPC '${e}' stream ${u} transport closed`),K.o_(),this.E_(A))})),Bl(A,ql.EventType.ERROR,(J=>{M||(M=!0,Es(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),K.o_(new nt(Y.UNAVAILABLE,"The operation could not be completed")))})),Bl(A,ql.EventType.MESSAGE,(J=>{var et;if(!M){const tt=J.data[0];jt(!!tt,16349);const yt=tt,Tt=(yt==null?void 0:yt.error)||((et=yt[0])==null?void 0:et.error);if(Tt){it(Qe,`RPC '${e}' stream ${u} received error:`,Tt);const _t=Tt.status;let Xt=(function(D){const S=Se[D];if(S!==void 0)return Mv(S)})(_t),ee=Tt.message;Xt===void 0&&(Xt=Y.INTERNAL,ee="Unknown error status: "+_t+" with message "+Tt.message),M=!0,K.o_(new nt(Xt,ee)),A.close()}else it(Qe,`RPC '${e}' stream ${u} received:`,tt),K.__(tt)}})),ys.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(s){return new ys(s)}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(s){return new cS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys.c_=!1;class Kv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=u,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class Xv{constructor(e,i,r,u,h,d,y,v){this.Ci=e,this.b_=r,this.S_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===i&&this.G_(r,u)}),(r=>{e((()=>{const u=new nt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.H_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(it(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l2 extends Xv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=dS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?yi(d.readTime):mt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=nd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Zf(v)?{documents:pS(h,v)}:{query:yS(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Uv(h,d.resumeToken);const _=Wf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(mt.min())>0){y.readTime=sc(h,d.snapshotVersion.toTimestamp());const _=Wf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=vS(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=nd(this.serializer),i.removeTarget=e,this.K_(i)}}class u2 extends Xv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=gS(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=nd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>mS(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{}class c2 extends o2{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,td(i,r),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new nt(Y.UNKNOWN,h.toString())}))}jo(e,i,r,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,td(i,r),u,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function h2(s,e,i,r){return new c2(s,e,i,r)}class f2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="RemoteStore";class d2{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Er(this)&&(it(pr,"Restarting streams for network reachability change."),await(async function(v){const _=pt(v);_.Ea.add(4),await lu(_),_.Va.set("Unknown"),_.Ea.delete(4),await Ac(_)})(this))}))})),this.Va=new f2(r,u)}}async function Ac(s){if(Er(s))for(const e of s.Ra)await e(!0)}async function lu(s){for(const e of s.Ra)await e(!1)}function Zv(s,e){const i=pt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Nd(i)?Id(i):Ns(i).O_()&&Vd(i,e))}function Dd(s,e){const i=pt(s),r=Ns(i);i.Ia.delete(e),r.O_()&&Jv(i,e),i.Ia.size===0&&(r.O_()?r.L_():Er(i)&&i.Va.set("Unknown"))}function Vd(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ns(s).Z_(e)}function Jv(s,e){s.da.$e(e),Ns(s).X_(e)}function Id(s){s.da=new sS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ns(s).start(),s.Va.ua()}function Nd(s){return Er(s)&&!Ns(s).x_()&&s.Ia.size>0}function Er(s){return pt(s).Ea.size===0}function $v(s){s.da=void 0}async function m2(s){s.Va.set("Online")}async function g2(s){s.Ia.forEach(((e,i)=>{Vd(s,e)}))}async function p2(s,e){$v(s),Nd(s)?(s.Va.ha(e),Id(s)):s.Va.set("Unknown")}async function y2(s,e,i){if(s.Va.set("Online"),e instanceof zv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.da.removeTarget(y))})(s,e)}catch(r){it(pr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uc(s,r)}else if(e instanceof Ko?s.da.Xe(e):e instanceof xv?s.da.st(e):s.da.tt(e),!i.isEqual(mt.min()))try{const r=await Yv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.da.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),Jv(h,v);const w=new Aa(A.target,v,_,A.sequenceNumber);Vd(h,w)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){it(pr,"Failed to raise snapshot:",r),await uc(s,r)}}async function uc(s,e,i){if(!Vs(e))throw e;s.Ea.add(1),await lu(s),s.Va.set("Offline"),i||(i=()=>Yv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(pr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ac(s)}))}function Wv(s,e){return e().catch((i=>uc(s,i,e)))}async function Sc(s){const e=pt(s),i=Na(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:md;for(;_2(e);)try{const u=await $S(e.localStore,r);if(u===null){e.Ta.length===0&&i.L_();break}r=u.batchId,v2(e,u)}catch(u){await uc(e,u)}tE(e)&&eE(e)}function _2(s){return Er(s)&&s.Ta.length<10}function v2(s,e){s.Ta.push(e);const i=Na(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function tE(s){return Er(s)&&!Na(s).x_()&&s.Ta.length>0}function eE(s){Na(s).start()}async function E2(s){Na(s).ra()}async function T2(s){const e=Na(s);for(const i of s.Ta)e.ea(i.mutations)}async function A2(s,e,i){const r=s.Ta.shift(),u=Td.from(r,e,i);await Wv(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await Sc(s)}async function S2(s,e){e&&Na(s).Y_&&await(async function(r,u){if((function(d){return iS(d)&&d!==Y.ABORTED})(u.code)){const h=r.Ta.shift();Na(r).B_(),await Wv(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Sc(r)}})(s,e),tE(s)&&eE(s)}async function g_(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),it(pr,"RemoteStore received new credentials");const r=Er(i);i.Ea.add(3),await lu(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function b2(s,e){const i=pt(s);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await lu(i),i.Va.set("Unknown"))}function Ns(s){return s.ma||(s.ma=(function(i,r,u){const h=pt(i);return h.sa(),new l2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Zo:m2.bind(null,s),Yo:g2.bind(null,s),t_:p2.bind(null,s),J_:y2.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Nd(s)?Id(s):s.Va.set("Unknown")):(await s.ma.stop(),$v(s))}))),s.ma}function Na(s){return s.fa||(s.fa=(function(i,r,u){const h=pt(i);return h.sa(),new u2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:E2.bind(null,s),t_:S2.bind(null,s),ta:T2.bind(null,s),na:A2.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Sc(s)):(await s.fa.stop(),s.Ta.length>0&&(it(pr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,y=new Od(e,i,d,u,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Md(s,e){if(Pi("AsyncQueue",`${e}: ${s}`),Vs(s))return new nt(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{static emptySet(e){return new _s(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ut.comparator(i.key,r.key):(i,r)=>ut.comparator(i.key,r.key),this.keyedMap=jl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new _s;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.ga=new se(ut.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ht(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Rs{constructor(e,i,r,u,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Rs(e,i,_s.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class w2{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const u=pt(i),h=u.queries;u.queries=y_(),h.forEach(((d,y)=>{for(const v of y.ba)v.onError(r)}))})(this,new nt(Y.ABORTED,"Firestore shutting down"))}}function y_(){return new _r((s=>Ev(s)),pc)}async function C2(s,e){const i=pt(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.Sa()&&e.Da()&&(r=2):(h=new R2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Md(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&xd(i)}async function D2(s,e){const i=pt(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?u=e.Da()?0:1:!h.Sa()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function V2(s,e){const i=pt(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const y of d.ba)y.Fa(u)&&(r=!0);d.wa=u}}r&&xd(i)}function I2(s,e,i){const r=pt(s),u=r.queries.get(e);if(u)for(const h of u.ba)h.onError(i);r.queries.delete(e)}function xd(s){s.Ca.forEach((e=>{e.next()}))}var rd,__;(__=rd||(rd={})).Ma="default",__.Cache="cache";class N2{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.key=e}}class iE{constructor(e){this.key=e}}class O2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=Tv(e),this.tu=new _s(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new p_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,w)=>{const M=u.get(A),K=yc(this.query,w)?w:null,J=!!M&&this.mutatedKeys.has(M.key),et=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let tt=!1;M&&K?M.data.isEqual(K.data)?J!==et&&(r.track({type:3,doc:K}),tt=!0):this.su(M,K)||(r.track({type:2,doc:K}),tt=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(y=!0)):!M&&K?(r.track({type:0,doc:K}),tt=!0):M&&!K&&(r.track({type:1,doc:M}),tt=!0,(v||_)&&(y=!0)),tt&&(K?(d=d.add(K),h=et?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,J){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Vt:tt})}};return et(K)-et(J)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(r),u=u??!1;const y=i&&!u?this._u():[],v=this.Ya.size===0&&this.current&&!u?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Rs(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new iE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new nE(r))})),i}cu(e){this.Za=e.ks,this.Ya=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Rs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const zd="SyncEngine";class M2{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class x2{constructor(e){this.key=e,this.hu=!1}}class z2{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _r((y=>Ev(y)),pc),this.Iu=new Map,this.Eu=new Set,this.Ru=new se(ut.comparator),this.Au=new Map,this.Vu=new bd,this.du={},this.mu=new Map,this.fu=bs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U2(s,e,i=!0){const r=oE(s);let u;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await aE(r,e,i,!0),u}async function L2(s,e){const i=oE(s);await aE(i,e,!0,!1)}async function aE(s,e,i,r){const u=await WS(s.localStore,pi(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await B2(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Zv(s.remoteStore,u),y}async function B2(s,e,i,r,u){s.pu=(w,M,K)=>(async function(et,tt,yt,Tt){let _t=tt.view.ru(yt);_t.Ss&&(_t=await c_(et.localStore,tt.query,!1).then((({documents:D})=>tt.view.ru(D,_t))));const Xt=Tt&&Tt.targetChanges.get(tt.targetId),ee=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,Lt=tt.view.applyChanges(_t,et.isPrimaryClient,Xt,ee);return E_(et,tt.targetId,Lt.au),Lt.snapshot})(s,w,M,K);const h=await c_(s.localStore,e,!0),d=new O2(e,h.ks),y=d.ru(h.documents),v=su.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),_=d.applyChanges(y,s.isPrimaryClient,v);E_(s,i,_.au);const A=new M2(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function q2(s,e,i){const r=pt(s),u=r.Tu.get(e),h=r.Iu.get(u.targetId);if(h.length>1)return r.Iu.set(u.targetId,h.filter((d=>!pc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await id(r.localStore,u.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(u.targetId),i&&Dd(r.remoteStore,u.targetId),sd(r,u.targetId)})).catch(Ds)):(sd(r,u.targetId),await id(r.localStore,u.targetId,!0))}async function j2(s,e){const i=pt(s),r=i.Tu.get(e),u=i.Iu.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Dd(i.remoteStore,r.targetId))}async function P2(s,e,i){const r=K2(s);try{const u=await(function(d,y){const v=pt(d),_=te.now(),A=y.reduce(((K,J)=>K.add(J.key)),Vt());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let J=Hi(),et=Vt();return v.xs.getEntries(K,A).next((tt=>{J=tt,J.forEach(((yt,Tt)=>{Tt.isValidDocument()||(et=et.add(yt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,J))).next((tt=>{w=tt;const yt=[];for(const Tt of y){const _t=$A(Tt,w.get(Tt.key).overlayedDocument);_t!=null&&yt.push(new vr(Tt.key,_t,fv(_t.value.mapValue),qi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,yt,y)})).next((tt=>{M=tt;const yt=tt.applyToLocalDocumentSet(w,et);return v.documentOverlayCache.saveOverlays(K,tt.batchId,yt)}))})).then((()=>({batchId:M.batchId,changes:Sv(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.du[d.currentUser.toKey()];_||(_=new se(Dt)),_=_.insert(y,v),d.du[d.currentUser.toKey()]=_})(r,u.batchId,i),await uu(r,u.changes),await Sc(r.remoteStore)}catch(u){const h=Md(u,"Failed to persist write");i.reject(h)}}async function rE(s,e){const i=pt(s);try{const r=await ZS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?jt(d.hu,14607):u.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await uu(i,r,e)}catch(r){await Ds(r)}}function v_(s,e,i){const r=pt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=pt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,w)=>{for(const M of w.ba)M.va(y)&&(_=!0)})),_&&xd(v)})(r.eventManager,e),u.length&&r.Pu.J_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H2(s,e,i){const r=pt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Au.get(e),h=u&&u.key;if(h){let d=new se(ut.comparator);d=d.insert(h,Ke.newNoDocument(h,mt.min()));const y=Vt().add(h),v=new Ec(mt.min(),new Map,new se(Dt),d,y);await rE(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),Ud(r)}else await id(r.localStore,e,!1).then((()=>sd(r,e,i))).catch(Ds)}async function k2(s,e){const i=pt(s),r=e.batch.batchId;try{const u=await XS(i.localStore,e);lE(i,r,null),sE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await uu(i,u)}catch(u){await Ds(u)}}async function G2(s,e,i){const r=pt(s);try{const u=await(function(d,y){const v=pt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((w=>(jt(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);lE(r,e,i),sE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await uu(r,u)}catch(u){await Ds(u)}}function sE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function lE(s,e,i){const r=pt(s);let u=r.du[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.du[r.currentUser.toKey()]=u}}function sd(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||uE(s,r)}))}function uE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Dd(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Ud(s))}function E_(s,e,i){for(const r of i)r instanceof nE?(s.Vu.addReference(r.key,e),F2(s,r)):r instanceof iE?(it(zd,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||uE(s,r.key)):ht(19791,{wu:r})}function F2(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(it(zd,"New document in limbo: "+i),s.Eu.add(r),Ud(s))}function Ud(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ut(Jt.fromString(e)),r=s.fu.next();s.Au.set(r,new x2(i)),s.Ru=s.Ru.insert(i,r),Zv(s.remoteStore,new Aa(pi(vd(i.path)),r,"TargetPurposeLimboResolution",dc.ce))}}async function uu(s,e,i){const r=pt(s),u=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const w=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,w?"current":"not-current")}if(_){u.push(_);const w=wd.Es(v.targetId,_);h.push(w)}})))})),await Promise.all(d),r.Pu.J_(u),await(async function(v,_){const A=pt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Ts,(K=>A.persistence.referenceDelegate.addReference(w,M.targetId,K))).next((()=>X.forEach(M.Is,(K=>A.persistence.referenceDelegate.removeReference(w,M.targetId,K)))))))))}catch(w){if(!Vs(w))throw w;it(Cd,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const K=A.vs.get(M),J=K.snapshotVersion,et=K.withLastLimboFreeSnapshotVersion(J);A.vs=A.vs.insert(M,et)}}})(r.localStore,h))}async function Q2(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){it(zd,"User change. New user:",e.toKey());const r=await Qv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new nt(Y.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uu(i,r.Ns)}}function Y2(s,e){const i=pt(s),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let u=Vt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function oE(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H2.bind(null,e),e.Pu.J_=V2.bind(null,e.eventManager),e.Pu.yu=I2.bind(null,e.eventManager),e}function K2(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G2.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return KS(this.persistence,new FS,e.initialUser,this.serializer)}Cu(e){return new Fv(Rd.Vi,this.serializer)}Du(e){return new e2}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class X2 extends oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof lc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new IS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new Fv((r=>lc.Vi(r,i)),this.serializer)}}class ld{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q2.bind(null,this.syncEngine),await b2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new w2})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),r=s2(e.databaseInfo);return h2(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,u,h,d,y){return new d2(r,u,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>v_(this.syncEngine,i,0)),(function(){return d_.v()?new d_:new n2})())}createSyncEngine(e,i){return(function(u,h,d,y,v,_,A){const w=new z2(u,h,d,y,v,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(u){const h=pt(u);it(pr,"RemoteStore shutting down."),h.Ea.add(5),await lu(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}ld.provider={build:()=>new ld};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="FirestoreClient";class J2{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{it(Oa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(Oa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Md(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Oa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async u=>{r.isEqual(u)||(await Qv(e.localStore,u),r=u)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function T_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await $2(s);it(Oa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>g_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,u)=>g_(e.remoteStore,u))),s._onlineComponents=e}async function $2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Oa,"Using user provided OfflineComponentProvider");try{await qf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Es("Error using user provided cache. Falling back to memory cache: "+i),await qf(s,new oc)}}else it(Oa,"Using default OfflineComponentProvider"),await qf(s,new X2(void 0));return s._offlineComponents}async function cE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Oa,"Using user provided OnlineComponentProvider"),await T_(s,s._uninitializedComponentsProvider._online)):(it(Oa,"Using default OnlineComponentProvider"),await T_(s,new ld))),s._onlineComponents}function W2(s){return cE(s).then((e=>e.syncEngine))}async function A_(s){const e=await cE(s),i=e.eventManager;return i.onListen=U2.bind(null,e.syncEngine),i.onUnlisten=q2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=L2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=j2.bind(null,e.syncEngine),i}function tb(s,e,i,r){const u=new Z2(r),h=new N2(e,u,i);return s.asyncQueue.enqueueAndForget((async()=>C2(await A_(s),h))),()=>{u.Nu(),s.asyncQueue.enqueueAndForget((async()=>D2(await A_(s),h)))}}function eb(s,e){const i=new fr;return s.asyncQueue.enqueueAndForget((async()=>P2(await W2(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="ComponentProvider",S_=new Map;function ib(s,e,i,r,u){return new EA(s,e,i,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hE(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",b_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new nt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=b_}else this.host=e.host,this.ssl=e.ssl??b_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DS)throw new nt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new nt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new nt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new W1;switch(r.type){case"firstParty":return new iA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new nt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=S_.get(i);r&&(it(nb,"Removing Datastore"),S_.delete(i),r.terminate())})(this),Promise.resolve()}}function ab(s,e,i,r={}){var _;s=Gl(s,bc);const u=cd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;u&&(CT(`https://${y}`),NT("Firestore",!0)),h.host!==fE&&h.host!==y&&Es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:r};if(!Jo(v,d)&&(s._setSettings(v),r.mockUserToken)){let A,w;if(typeof r.mockUserToken=="string")A=r.mockUserToken,w=Ye.MOCK_USER;else{A=DT(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new nt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ye(M)}s._authCredentials=new tA(new tv(A,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class Ie{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ie(this.firestore,e,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(au(i,Ie._jsonSchema))return new Ie(e,r||null,new ut(Jt.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Re("string",Ie._jsonSchemaVersion),referencePath:Re("string")};class wa extends Tr{constructor(e,i,r){super(e,i,vd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ie(this.firestore,null,new ut(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function rb(s,e,...i){if(s=mr(s),ev("collection","path",e),s instanceof bc){const r=Jt.fromString(e,...i);return Ly(r),new wa(s,null,r)}{if(!(s instanceof Ie||s instanceof wa))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(e,...i));return Ly(r),new wa(s.firestore,null,r)}}function sb(s,e,...i){if(s=mr(s),arguments.length===1&&(e=dd.newId()),ev("doc","path",e),s instanceof bc){const r=Jt.fromString(e,...i);return Uy(r),new Ie(s,null,new ut(r))}{if(!(s instanceof Ie||s instanceof wa))throw new nt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(e,...i));return Uy(r),new Ie(s.firestore,s instanceof wa?s.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class C_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kv(this,"async_queue_retry"),this._c=()=>{const r=Bf();r&&it(w_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vs(e))throw e;it(w_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",D_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Od.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&ht(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function D_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class cc extends bc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new C_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function lb(s,e){const i=typeof s=="object"?s:P1(),r=typeof s=="string"?s:ec,u=U1(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=RT("firestore");h&&ab(u,...h)}return u}function dE(s){if(s._terminated)throw new nt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ub(s),s._firestoreClient}function ub(s){var r,u,h,d;const e=s._freezeSettings(),i=ib(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(u=s._app)==null?void 0:u.options.apiKey,e);s._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new J2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(v){const _=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Ge.fromBase64String(e))}catch(i){throw new nt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Re("string",In._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new nt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new nt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new nt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(e){if(au(e,_i._jsonSchema))return new _i(e.latitude,e.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:Re("string",_i._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Gn(e.vectorValues);throw new nt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:Re("string",Gn._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=/^__.*__$/;class cb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}function pE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{dataSource:s})}}class Ld{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ld({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var u;const i=(u=this.path)==null?void 0:u.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var u;const i=(u=this.path)==null?void 0:u.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(pE(this.dataSource)&&ob.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class hb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Tc(e)}createContext(e,i,r,u=!1){return new Ld({dataSource:e,methodName:i,targetDoc:r,path:ke.emptyPath(),arrayElement:!1,hasConverter:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yE(s){const e=s._freezeSettings(),i=Tc(s._databaseId);return new hb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function fb(s,e,i,r,u,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,e,i,u);EE("Data must be an object, but it was:",d,r);const y=_E(r,d);let v,_;if(h.merge)v=new kn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const w of h.mergeFields){const M=Rc(e,w,i);if(!d.contains(M))throw new nt(Y.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);pb(A,M)||A.push(M)}v=new kn(A),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new cb(new Vn(y),v,_)}function db(s,e,i,r=!1){return Bd(i,s.createContext(r?4:3,e))}function Bd(s,e){if(vE(s=mr(s)))return EE("Unsupported field value:",e,s),_E(s,e);if(s instanceof gE)return(function(r,u){if(!pE(u.dataSource))throw u.createError(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,u){const h=[];let d=0;for(const y of r){let v=Bd(y,u.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,u){if((r=mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QA(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=te.fromDate(r);return{timestampValue:sc(u.serializer,h)}}if(r instanceof te){const h=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(u.serializer,h)}}if(r instanceof _i)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:Uv(u.serializer,r._byteString)};if(r instanceof Ie){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Sd(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof Gn)return(function(d,y){const v=d instanceof Gn?d.toArray():d;return{mapValue:{fields:{[cv]:{stringValue:hv},[nc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return Ed(y.serializer,A)}))}}}}}})(r,u);if(kv(r))return r._toProto(u.serializer);throw u.createError(`Unsupported field value: ${fc(r)}`)})(s,e)}function _E(s,e){const i={};return av(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(s,((r,u)=>{const h=Bd(u,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function vE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof _i||s instanceof In||s instanceof Ie||s instanceof gE||s instanceof Gn||kv(s))}function EE(s,e,i){if(!vE(i)||!nv(i)){const r=fc(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Rc(s,e,i){if((e=mr(e))instanceof mE)return e._internalPath;if(typeof e=="string")return gb(s,e);throw hc("Field path arguments must be of type string or ",s,!1,void 0,i)}const mb=new RegExp("[~\\*/\\[\\]]");function gb(s,e,i){if(e.search(mb)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mE(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hc(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new nt(Y.INVALID_ARGUMENT,y+s+v)}function pb(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{convertValue(e,i="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ht(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return yr(e,((u,h)=>{r[u]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,u,h;const i=(h=(u=(r=e.fields)==null?void 0:r[nc].arrayValue)==null?void 0:u.values)==null?void 0:h.map((d=>de(d.doubleValue)));return new Gn(i)}convertGeoPoint(e){return new _i(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Da(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Jt.fromString(e);jt(Hv(r),9688,{name:e});const u=new Wl(r.get(1),r.get(3)),h=new ut(r.popFirst(5));return u.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE extends yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}const V_="@firebase/firestore",I_="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of r)if(h in u&&typeof u[h]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Rc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _b extends AE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qd{}class SE extends qd{}function Eb(s,e,...i){let r=[];e instanceof qd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof Pd)).length,y=h.filter((v=>v instanceof jd)).length;if(d>1||d>0&&y>0)throw new nt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const u of r)s=u._apply(s);return s}class jd extends SE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new jd(e,i,r)}_apply(e){const i=this._parse(e);return bE(e._query,i),new Tr(e.firestore,e.converter,Jf(e._query,i))}_parse(e){const i=yE(e.firestore);return(function(h,d,y,v,_,A,w){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){M_(w,A);const J=[];for(const et of w)J.push(O_(v,h,et));M={arrayValue:{values:J}}}else M=O_(v,h,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||M_(w,A),M=db(y,d,w,A==="in"||A==="not-in");return be.create(_,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Pd extends qd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Pd(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Fn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const y=h.getFlattenedFilters();for(const v of y)bE(d,v),d=Jf(d,v)})(e._query,i),new Tr(e.firestore,e.converter,Jf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hd extends SE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Hd(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new nt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(h,d)})(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,BA(e._query,i))}}function Tb(s,e="asc"){const i=e,r=Rc("orderBy",s);return Hd._create(r,i)}function O_(s,e,i){if(typeof(i=mr(i))=="string"){if(i==="")throw new nt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vv(e)&&i.indexOf("/")!==-1)throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(r))throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fy(s,new ut(r))}if(i instanceof Ie)return Fy(s,i._key);throw new nt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function M_(s,e){if(!Array.isArray(s)||s.length===0)throw new nt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bE(s,e){const i=(function(u,h){for(const d of u)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new nt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function Ab(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Hl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dr extends AE{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Rc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=dr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}dr._jsonSchemaVersion="firestore/documentSnapshot/1.0",dr._jsonSchema={type:Re("string",dr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Xo extends dr{data(e={}){return super.data(e)}}class vs{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Hl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Xo(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Xo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Xo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Hl(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:Sb(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs._jsonSchemaVersion="firestore/querySnapshot/1.0",vs._jsonSchema={type:Re("string",vs._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function bb(s,e){const i=Gl(s.firestore,cc),r=sb(s),u=Ab(s.converter,e),h=yE(s.firestore);return wb(i,[fb(h,"addDoc",r._key,u,s.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then((()=>r))}function Rb(s,...e){var _,A,w;s=mr(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||N_(e[r])||(i=e[r++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(N_(e[r])){const M=e[r];e[r]=(_=M.next)==null?void 0:_.bind(M),e[r+1]=(A=M.error)==null?void 0:A.bind(M),e[r+2]=(w=M.complete)==null?void 0:w.bind(M)}let h,d,y;if(s instanceof Ie)d=Gl(s.firestore,cc),y=vd(s._key.path),h={next:M=>{e[r]&&e[r](Cb(d,s,M))},error:e[r+1],complete:e[r+2]};else{const M=Gl(s,Tr);d=Gl(M.firestore,cc),y=M._query;const K=new TE(d);h={next:J=>{e[r]&&e[r](new vs(d,K,M,J))},error:e[r+1],complete:e[r+2]},vb(s._query)}const v=dE(d);return tb(v,y,u,h)}function wb(s,e){const i=dE(s);return eb(i,e)}function Cb(s,e,i){const r=i.docs.get(e._key),u=new TE(s);return new dr(s,u,e._key,r,new Hl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){$1(j1),Wo(new Xl("firestore",((r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new cc(new eA(r.getProvider("auth-internal")),new aA(d,r.getProvider("app-check-internal")),TA(d,u),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),ps(V_,I_,e),ps(V_,I_,"esm2020")})();var Db="firebase",Vb="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(Db,Vb,"app");const Ib={apiKey:"AIzaSyBf9R68jDTOaRhSo39QxP5RJ6vNhEP_WdA",authDomain:"chitchat-ea762.firebaseapp.com",projectId:"chitchat-ea762",storageBucket:"chitchat-ea762.firebasestorage.app",messagingSenderId:"361623447384",appId:"1:361623447384:web:9e57a35f41a0195dfb272d"},Nb=G_(Ib),Ob=lb(Nb),Mb="private-chat",x_=rb(Ob,"chats",Mb,"messages"),z_={subscribeToMessages(s){const e=Eb(x_,Tb("timestamp"));return Rb(e,i=>{const r=i.docs.map(u=>({id:u.id,...u.data()}));s(r)})},async sendMessage(s,e){await bb(x_,{text:s,sender:e,timestamp:Date.now()})}},xb=({currentUser:s,onLogout:e})=>{const[i,r]=gi.useState([]),[u,h]=gi.useState(""),d=gi.useRef(null);gi.useEffect(()=>{const _=z_.subscribeToMessages(r);return()=>_()},[]),gi.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[i]);const y=_=>{_.preventDefault(),u.trim()&&(z_.sendMessage(u,s),h(""))},v=_=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(_);return dt.jsxs("div",{className:"flex flex-col h-screen max-w-2xl mx-auto bg-[#FDFBF7]",children:[dt.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-white border-b border-[#F0E6D2] sticky top-0 z-10",children:[dt.jsxs("div",{className:"flex items-center space-x-3",children:[dt.jsx("div",{className:"w-10 h-10 rounded-full bg-[#E8DAEF] flex items-center justify-center text-[#5B3F6B] font-bold",children:Ey[s==="USER_A"?"USER_B":"USER_A"][0]}),dt.jsxs("div",{children:[dt.jsx("h2",{className:"text-sm font-semibold text-gray-700",children:Ey[s==="USER_A"?"USER_B":"USER_A"]}),dt.jsx("p",{className:"text-[10px] text-green-400 font-medium",children:"Online now"})]})]}),dt.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-2",title:"Logout",children:dt.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[dt.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),dt.jsx("polyline",{points:"16 17 21 12 16 7"}),dt.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),dt.jsx("div",{ref:d,className:"flex-1 overflow-y-auto px-4 py-6 space-y-4 no-scrollbar",children:i.length===0?dt.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 opacity-50 space-y-2",children:[dt.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:dt.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),dt.jsx("p",{className:"font-header text-sm italic",children:"No messages yet. Say hello..."})]}):i.map(_=>{const A=_.sender===s,w=_.sender==="USER_A"?Ty.bubbleA:Ty.bubbleB;return dt.jsx("div",{className:`flex w-full ${A?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:dt.jsxs("div",{className:`max-w-[80%] flex flex-col ${A?"items-end":"items-start"}`,children:[dt.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-sm ${w} ${A?"rounded-tr-none":"rounded-tl-none"}`,children:dt.jsx("p",{className:"text-[15px] leading-relaxed break-words",children:_.text})}),dt.jsx("span",{className:"mt-1.5 text-[10px] text-gray-400 font-medium px-1",children:v(_.timestamp)})]})},_.id)})}),dt.jsxs("div",{className:"p-4 bg-white border-t border-[#F0E6D2]",children:[dt.jsxs("form",{onSubmit:y,className:"flex items-end space-x-3",children:[dt.jsx("div",{className:"flex-1 bg-[#FAF9F6] border border-[#F0E6D2] rounded-2xl p-2 focus-within:border-[#B7C4CF] transition-colors",children:dt.jsx("textarea",{rows:1,value:u,onChange:_=>h(_.target.value),onKeyDown:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),y(_))},placeholder:"Message...",className:"w-full bg-transparent border-none outline-none px-3 py-1.5 text-gray-700 placeholder:text-gray-400 resize-none max-h-32 text-sm"})}),dt.jsx("button",{type:"submit",disabled:!u.trim(),className:`p-3.5 rounded-2xl transition-all ${u.trim()?"bg-[#9CAFAA] text-white shadow-md":"bg-gray-100 text-gray-300 cursor-not-allowed"}`,children:dt.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[dt.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),dt.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]}),dt.jsx("p",{className:"mt-2 text-center text-[10px] text-gray-300",children:"Only we can see this conversation"})]})]})},zb=()=>{const[s,e]=gi.useState(null);gi.useEffect(()=>{const u=sessionStorage.getItem("cozyduo_session");u&&e(u)},[]);const i=u=>{e(u),sessionStorage.setItem("cozyduo_session",u)},r=()=>{e(null),sessionStorage.removeItem("cozyduo_session")};return dt.jsx("div",{className:"min-h-screen bg-[#FDFBF7] selection:bg-[#9CAFAA44]",children:s?dt.jsx(xb,{currentUser:s,onLogout:r}):dt.jsx(mT,{onLogin:i})})},RE=document.getElementById("root");if(!RE)throw new Error("Could not find root element to mount to");const Ub=dT.createRoot(RE);Ub.render(dt.jsx(rT.StrictMode,{children:dt.jsx(zb,{})}));
